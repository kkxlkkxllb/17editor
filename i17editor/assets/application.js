!function(t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):"undefined"!=typeof window?window.jade=t():"undefined"!=typeof global?global.jade=t():"undefined"!=typeof self&&(self.jade=t())}(function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";function r(t){return null!=t&&""!==t}function i(t){return Array.isArray(t)?t.map(i).filter(r).join(" "):t}n.ihost="http://17up.org",n.merge=function o(t,e){if(1===arguments.length){for(var n=t[0],i=1;i<t.length;i++)n=o(n,t[i]);return n}var s=t["class"],a=e["class"];(s||a)&&(s=s||[],a=a||[],Array.isArray(s)||(s=[s]),Array.isArray(a)||(a=[a]),t["class"]=s.concat(a).filter(r));for(var l in e)"class"!=l&&(t[l]=e[l]);return t},n.joinClasses=i,n.cls=function(t,e){for(var r=[],o=0;o<t.length;o++)e&&e[o]?r.push(n.escape(i([t[o]]))):r.push(i(t[o]));var s=i(r);return s.length?' class="'+s+'"':""},n.attr=function(t,e,r,i){return"boolean"==typeof e||null==e?e?" "+(i?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof e?" "+t+"='"+JSON.stringify(e).replace(/'/g,"&apos;")+"'":r?" "+t+'="'+n.escape(e)+'"':" "+t+'="'+e+'"'},n.attrs=function(t,e){var r=[],o=Object.keys(t);if(o.length)for(var s=0;s<o.length;++s){var a=o[s],l=t[a];"class"==a?(l=i(l))&&r.push(" "+a+'="'+l+'"'):r.push(n.attr(a,l,!1,e))}return r.join("")},n.escape=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},n.rethrow=function s(e,n,r,i){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||i))throw e.message+=" on line "+r,e;try{i=i||t("fs").readFileSync(n,"utf8")}catch(o){s(e,null,r)}var a=3,l=i.split("\n"),c=Math.max(r-a,0),u=Math.min(l.length,r+a),a=l.slice(c,u).map(function(t,e){var n=e+c+1;return(n==r?"  > ":"    ")+n+"| "+t}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+r+"\n"+a+"\n\n"+e.message,e}},{fs:2}],2:[function(){},{}]},{},[1])(1)}),function(){if(!this.require){var t={},e={},n=function(o,s){var a,l,c=r(s,o),u=r(c,"./index");if(a=e[c]||e[u])return a.exports;if(!(l=t[c]||t[c=u]))throw"module '"+o+"' not found";a={id:c,exports:{}};try{return e[c]=a,l(a.exports,function(t){return n(t,i(c))},a),a.exports}catch(h){throw delete e[c],h}},r=function(t,e){var n,r,i=[];n=/^\.\.?(\/|$)/.test(e)?[t,e].join("/").split("/"):e.split("/");for(var o=0,s=n.length;s>o;o++)r=n[o],".."==r?i.pop():"."!=r&&""!=r&&i.push(r);return i.join("/")},i=function(t){return t.split("/").slice(0,-1).join("/")};this.require=function(t){return n(t,"")},this.require.define=function(e){for(var n in e)t[n]=e[n]},this.require.modules=t,this.require.cache=e}return this.require.define}.call(this)({"es5-shimify/index":function(){!function(t){"function"==typeof define?define(t):"function"==typeof YUI?YUI.add("es5",t):t()}(function(){function t(){}function e(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function n(t){var e=typeof t;return null===t||"undefined"===e||"boolean"===e||"number"===e||"string"===e}function r(t){var e,r,i;if(n(t))return t;if(r=t.valueOf,"function"==typeof r&&(e=r.call(t),n(e)))return e;if(i=t.toString,"function"==typeof i&&(e=i.call(t),n(e)))return e;throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var r=p.call(arguments,1),i=function(){if(this instanceof i){var t=n.apply(this,r.concat(p.call(arguments)));return Object(t)===t?t:this}return n.apply(e,r.concat(p.call(arguments)))};return n.prototype&&(t.prototype=n.prototype,i.prototype=new t,t.prototype=null),i});var i,o,s,a,l,c=Function.prototype.call,u=Array.prototype,h=Object.prototype,p=u.slice,d=c.bind(h.toString),f=c.bind(h.hasOwnProperty);if((l=f(h,"__defineGetter__"))&&(i=c.bind(h.__defineGetter__),o=c.bind(h.__defineSetter__),s=c.bind(h.__lookupGetter__),a=c.bind(h.__lookupSetter__)),2!=[1,2].splice(0).length){var g=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?g.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(p.call(arguments,2))):[]}}if(1!=[].unshift(0)){var m=Array.prototype.unshift;Array.prototype.unshift=function(){return m.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(t){return"[object Array]"==d(t)});var v=Object("a"),y="a"!=v[0]||!(0 in v);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=q(this),n=y&&"[object String]"==d(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=q(this),n=y&&"[object String]"==d(this)?this.split(""):e,r=n.length>>>0,i=Array(r),o=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var s=0;r>s;s++)s in n&&(i[s]=t.call(o,n[s],s,e));return i}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,n=q(this),r=y&&"[object String]"==d(this)?this.split(""):n,i=r.length>>>0,o=[],s=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var a=0;i>a;a++)a in r&&(e=r[a],t.call(s,e,a,n)&&o.push(e));return o}),Array.prototype.every||(Array.prototype.every=function(t){var e=q(this),n=y&&"[object String]"==d(this)?this.split(""):e,r=n.length>>>0,i=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var o=0;r>o;o++)if(o in n&&!t.call(i,n[o],o,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=q(this),n=y&&"[object String]"==d(this)?this.split(""):e,r=n.length>>>0,i=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var o=0;r>o;o++)if(o in n&&t.call(i,n[o],o,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=q(this),n=y&&"[object String]"==d(this)?this.split(""):e,r=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}for(;r>o;o++)o in n&&(i=t.call(void 0,i,n[o],o,e));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=q(this),n=y&&"[object String]"==d(this)?this.split(""):e,r=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do o in this&&(i=t.call(void 0,i,n[o],o,e));while(o--);return i}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var n=y&&"[object String]"==d(this)?this.split(""):q(this),r=n.length>>>0;if(!r)return-1;var i=0;for(arguments.length>1&&(i=e(arguments[1])),i=i>=0?i:Math.max(0,r+i);r>i;i++)if(i in n&&n[i]===t)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var n=y&&"[object String]"==d(this)?this.split(""):q(this),r=n.length>>>0;if(!r)return-1;var i=r-1;for(arguments.length>1&&(i=Math.min(i,e(arguments[1]))),i=i>=0?i:r-Math.abs(i);i>=0;i--)if(i in n&&t===n[i])return i;return-1}),!Object.keys){var b=!0,w=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],x=w.length;for(var C in{toString:null})b=!1;Object.keys=function _(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var _=[];for(var e in t)f(t,e)&&_.push(e);if(b)for(var n=0,r=x;r>n;n++){var i=w[n];f(t,i)&&_.push(i)}return _}}var k=-621987552e5,T="-000001";Date.prototype.toISOString&&-1!==new Date(k).toISOString().indexOf(T)||(Date.prototype.toISOString=function(){var t,e,n,r,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(r=this.getUTCFullYear(),i=this.getUTCMonth(),r+=Math.floor(i/12),i=(i%12+12)%12,t=[i+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(0>r?"-":r>9999?"+":"")+("00000"+Math.abs(r)).slice(r>=0&&9999>=r?-4:-6),e=t.length;e--;)n=t[e],10>n&&(t[e]="0"+n);return r+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var j=!1;try{j=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(k).toJSON().indexOf(T)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(S){}if(j||(Date.prototype.toJSON=function(){var t,e=Object(this),n=r(e);if("number"==typeof n&&!isFinite(n))return null;if(t=e.toISOString,"function"!=typeof t)throw new TypeError("toISOString property is not callable");return t.call(e)}),Date=function(t){function e(n,r,i,o,s,a,l){var c=arguments.length;if(this instanceof t){var u=1==c&&String(n)===n?new t(e.parse(n)):c>=7?new t(n,r,i,o,s,a,l):c>=6?new t(n,r,i,o,s,a):c>=5?new t(n,r,i,o,s):c>=4?new t(n,r,i,o):c>=3?new t(n,r,i):c>=2?new t(n,r):c>=1?new t(n):new t;return u.constructor=e,u}return t.apply(this,arguments)}function n(t,e){var n=e>1?1:0;return i[e]+Math.floor((t-1969+n)/4)-Math.floor((t-1901+n)/100)+Math.floor((t-1601+n)/400)+365*(t-1970)}var r=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),i=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var o in t)e[o]=t[o];return e.now=t.now,e.UTC=t.UTC,e.prototype=t.prototype,e.prototype.constructor=e,e.parse=function(e){var i=r.exec(e);if(i){var o,s=Number(i[1]),a=Number(i[2]||1)-1,l=Number(i[3]||1)-1,c=Number(i[4]||0),u=Number(i[5]||0),h=Number(i[6]||0),p=Number(i[7]||0),d=!i[4]||i[8]?0:Number(new t(1970,0)),f="-"===i[9]?1:-1,g=Number(i[10]||0),m=Number(i[11]||0);return(u>0||h>0||p>0?24:25)>c&&60>u&&60>h&&1e3>p&&a>-1&&12>a&&24>g&&60>m&&l>-1&&l<n(s,a+1)-n(s,a)&&(o=60*(24*(n(s,a)+l)+c+g*f),o=1e3*(60*(o+u+m*f)+h)+p+d,o>=-864e13&&864e13>=o)?o:0/0}return t.parse.apply(this,arguments)},e}(Date),Date.now||(Date.now=function(){return(new Date).getTime()}),"0".split(void 0,0).length){var $=String.prototype.split;String.prototype.split=function(t,e){return void 0===t&&0===e?[]:$.apply(this,arguments)}}if("".substr&&"b"!=="0b".substr(-1)){var D=String.prototype.substr;String.prototype.substr=function(t,e){return D.call(this,0>t?(t=this.length+t)<0?0:t:t,e)}}var E="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||E.trim()){E="["+E+"]";var A=new RegExp("^"+E+E+"*"),O=new RegExp(E+E+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(A,"").replace(O,"")}}var q=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}})},"json2ify/index":function(exports,require,module){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,i,o,s,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)s[n]=str(n,l)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,l),i&&s.push(quote(r)+(gap?": ":":")+i));else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(i=str(r,l),i&&s.push(quote(r)+(gap?": ":":")+i));return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(t,e,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},"jqueryify/index":function(t,e,n){!function(t,e){function r(t){var e=t.length,n=se.type(t);return se.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t){var e=ge[t]={};return se.each(t.match(le)||[],function(t,n){e[n]=!0}),e}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=se.expando+Math.random()}function s(t,n,r){var i;if(r===e&&1===t.nodeType)if(i="data-"+n.replace(be,"-$1").toLowerCase(),r=t.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:ye.test(r)?JSON.parse(r):r}catch(o){}me.set(t,n,r)}else r=e;return r}function a(){return!0}function l(){return!1}function c(){try{return W.activeElement}catch(t){}}function u(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function h(t,e,n){if(se.isFunction(e))return se.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return se.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Ee.test(e))return se.filter(e,t,n);e=se.filter(e,t)}return se.grep(t,function(t){return ne.call(e,t)>=0!==n})}function p(t,e){return se.nodeName(t,"table")&&se.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=Fe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=t.length,r=0;n>r;r++)ve.set(t[r],"globalEval",!e||ve.get(e[r],"globalEval"))}function m(t,e){var n,r,i,o,s,a,l,c;if(1===e.nodeType){if(ve.hasData(t)&&(o=ve.access(t),s=ve.set(e,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)se.event.add(e,i,c[i][n])}me.hasData(t)&&(a=me.access(t),l=se.extend({},a),me.set(e,l))}}function v(t,n){var r=t.getElementsByTagName?t.getElementsByTagName(n||"*"):t.querySelectorAll?t.querySelectorAll(n||"*"):[];return n===e||n&&se.nodeName(t,n)?se.merge([t],r):r}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Me.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),r=e,i=tn.length;i--;)if(e=tn[i]+n,e in t)return e;return r}function w(t,e){return t=e||t,"none"===se.css(t,"display")||!se.contains(t.ownerDocument,t)}function x(e){return t.getComputedStyle(e,null)}function C(t,e){for(var n,r,i,o=[],s=0,a=t.length;a>s;s++)r=t[s],r.style&&(o[s]=ve.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&w(r)&&(o[s]=ve.access(r,"olddisplay",S(r.nodeName)))):o[s]||(i=w(r),(n&&"none"!==n||!i)&&ve.set(r,"olddisplay",i?n:se.css(r,"display"))));for(s=0;a>s;s++)r=t[s],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function k(t,e,n){var r=Je.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function T(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=se.css(t,n+Ze[o],!0,i)),r?("content"===n&&(s-=se.css(t,"padding"+Ze[o],!0,i)),"margin"!==n&&(s-=se.css(t,"border"+Ze[o]+"Width",!0,i))):(s+=se.css(t,"padding"+Ze[o],!0,i),"padding"!==n&&(s+=se.css(t,"border"+Ze[o]+"Width",!0,i)));return s}function j(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=x(t),s=se.support.boxSizing&&"border-box"===se.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=Qe(t,e,o),(0>i||null==i)&&(i=t.style[e]),Ve.test(i))return i;r=s&&(se.support.boxSizingReliable||i===t.style[e]),i=parseFloat(i)||0}return i+T(t,e,n||(s?"border":"content"),r,o)+"px"}function S(t){var e=W,n=Ye[t];return n||(n=$(t,e),"none"!==n&&n||(ze=(ze||se("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ze[0].contentWindow||ze[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=$(t,e),ze.detach()),Ye[t]=n),n}function $(t,e){var n=se(e.createElement(t)).appendTo(e.body),r=se.css(n[0],"display");return n.remove(),r}function D(t,e,n,r){var i;if(se.isArray(e))se.each(e,function(e,i){n||nn.test(t)?r(t,i):D(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==se.type(e))r(t,e);else for(i in e)D(t+"["+i+"]",e[i],n,r)}function E(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(le)||[];if(se.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function A(t,e,n,r){function i(a){var l;return o[a]=!0,se.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),l}var o={},s=t===wn;return i(e.dataTypes[0])||!o["*"]&&i("*")}function O(t,n){var r,i,o=se.ajaxSettings.flatOptions||{};for(r in n)n[r]!==e&&((o[r]?t:i||(i={}))[r]=n[r]);return i&&se.extend(!0,t,i),t}function q(t,n,r){for(var i,o,s,a,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),i===e&&(i=t.mimeType||n.getResponseHeader("Content-Type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){c.unshift(o);break}if(c[0]in r)s=c[0];else{for(o in r){if(!c[0]||t.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),r[s]):void 0}function _(t,e,n,r){var i,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function N(){return setTimeout(function(){En=e}),En=se.now()}function R(t,e,n){for(var r,i=(Rn[e]||[]).concat(Rn["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,e,t))return r}function L(t,e,n){var r,i,o=0,s=Nn.length,a=se.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=En||N(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),1>o&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:se.extend({},e),opts:se.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:En||N(),duration:n.duration,tweens:[],createTween:function(e,n){var r=se.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(M(u,c.opts.specialEasing);s>o;o++)if(r=Nn[o].call(c,t,u,c.opts))return r;return se.map(u,R,c),se.isFunction(c.opts.start)&&c.opts.start.call(t,c),se.fx.timer(se.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function M(t,e){var n,r,i,o,s;for(n in t)if(r=se.camelCase(n),i=e[r],o=t[n],se.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=se.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function B(t,n,r){var i,o,s,a,l,c,u=this,h={},p=t.style,d=t.nodeType&&w(t),f=ve.get(t,"fxshow");r.queue||(l=se._queueHooks(t,"fx"),null==l.unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,u.always(function(){u.always(function(){l.unqueued--,se.queue(t,"fx").length||l.empty.fire()})})),1===t.nodeType&&("height"in n||"width"in n)&&(r.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===se.css(t,"display")&&"none"===se.css(t,"float")&&(p.display="inline-block")),r.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=r.overflow[0],p.overflowX=r.overflow[1],p.overflowY=r.overflow[2]}));for(i in n)if(o=n[i],On.exec(o)){if(delete n[i],s=s||"toggle"===o,o===(d?"hide":"show")){if("show"!==o||!f||f[i]===e)continue;d=!0}h[i]=f&&f[i]||se.style(t,i)}if(!se.isEmptyObject(h)){f?"hidden"in f&&(d=f.hidden):f=ve.access(t,"fxshow",{}),s&&(f.hidden=!d),d?se(t).show():u.done(function(){se(t).hide()}),u.done(function(){var e;ve.remove(t,"fxshow");for(e in h)se.style(t,e,h[e])});for(i in h)a=R(d?f[i]:0,i,u),i in f||(f[i]=a.start,d&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function I(t,e,n,r,i){return new I.prototype.init(t,e,n,r,i)}function F(t,e){var n,r={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)n=Ze[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function P(t){return se.isWindow(t)?t:9===t.nodeType&&t.defaultView}var H,Q,z=typeof e,U=t.location,W=t.document,J=W.documentElement,V=t.jQuery,X=t.$,Y={},K=[],G="2.0.3",Z=K.concat,te=K.push,ee=K.slice,ne=K.indexOf,re=Y.toString,ie=Y.hasOwnProperty,oe=G.trim,se=function(t,e){return new se.fn.init(t,e,H)},ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,le=/\S+/g,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^-ms-/,pe=/-([\da-z])/gi,de=function(t,e){return e.toUpperCase()},fe=function(){W.removeEventListener("DOMContentLoaded",fe,!1),t.removeEventListener("load",fe,!1),se.ready()};se.fn=se.prototype={jquery:G,constructor:se,init:function(t,n,r){var i,o;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ce.exec(t),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(t):this.constructor(n).find(t);if(i[1]){if(n=n instanceof se?n[0]:n,se.merge(this,se.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:W,!0)),ue.test(i[1])&&se.isPlainObject(n))for(i in n)se.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}return o=W.getElementById(i[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=W,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):se.isFunction(t)?r.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),se.makeArray(t,this))},selector:"",length:0,toArray:function(){return ee.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=se.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return se.each(this,t,e)},ready:function(t){return se.ready.promise().done(t),this},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(se.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:te,sort:[].sort,splice:[].splice},se.fn.init.prototype=se.fn,se.extend=se.fn.extend=function(){var t,n,r,i,o,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||se.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(t=arguments[l]))for(n in t)r=a[n],i=t[n],a!==i&&(u&&i&&(se.isPlainObject(i)||(o=se.isArray(i)))?(o?(o=!1,s=r&&se.isArray(r)?r:[]):s=r&&se.isPlainObject(r)?r:{},a[n]=se.extend(u,s,i)):i!==e&&(a[n]=i));return a},se.extend({expando:"jQuery"+(G+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===se&&(t.$=X),e&&t.jQuery===se&&(t.jQuery=V),se},isReady:!1,readyWait:1,holdReady:function(t){t?se.readyWait++:se.ready(!0)},ready:function(t){(t===!0?--se.readyWait:se.isReady)||(se.isReady=!0,t!==!0&&--se.readyWait>0||(Q.resolveWith(W,[se]),se.fn.trigger&&se(W).trigger("ready").off("ready")))},isFunction:function(t){return"function"===se.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?Y[re.call(t)]||"object":typeof t},isPlainObject:function(t){if("object"!==se.type(t)||t.nodeType||se.isWindow(t))return!1;try{if(t.constructor&&!ie.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||W;var r=ue.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=se.buildFragment([t],e,i),i&&se(i).remove(),se.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(t){var n,r;if(!t||"string"!=typeof t)return null;try{r=new DOMParser,n=r.parseFromString(t,"text/xml")}catch(i){n=e}return(!n||n.getElementsByTagName("parsererror").length)&&se.error("Invalid XML: "+t),n},noop:function(){},globalEval:function(t){var e,n=eval;t=se.trim(t),t&&(1===t.indexOf("use strict")?(e=W.createElement("script"),e.text=t,W.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(he,"ms-").replace(pe,de)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i,o=0,s=t.length,a=r(t);if(n){if(a)for(;s>o&&(i=e.apply(t[o],n),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],n),i===!1)break}else if(a)for(;s>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":oe.call(t)},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?se.merge(n,"string"==typeof t?[t]:t):te.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ne.call(e,t,n)},merge:function(t,n){var r=n.length,i=t.length,o=0;if("number"==typeof r)for(;r>o;o++)t[i++]=n[o];else for(;n[o]!==e;)t[i++]=n[o++];return t.length=i,t},grep:function(t,e,n){var r,i=[],o=0,s=t.length;for(n=!!n;s>o;o++)r=!!e(t[o],o),n!==r&&i.push(t[o]);return i},map:function(t,e,n){var i,o=0,s=t.length,a=r(t),l=[];if(a)for(;s>o;o++)i=e(t[o],o,n),null!=i&&(l[l.length]=i);else for(o in t)i=e(t[o],o,n),null!=i&&(l[l.length]=i);return Z.apply([],l)},guid:1,proxy:function(t,n){var r,i,o;return"string"==typeof n&&(r=t[n],n=t,t=r),se.isFunction(t)?(i=ee.call(arguments,2),o=function(){return t.apply(n||this,i.concat(ee.call(arguments)))},o.guid=t.guid=t.guid||se.guid++,o):e},access:function(t,n,r,i,o,s,a){var l=0,c=t.length,u=null==r;if("object"===se.type(r)){o=!0;for(l in r)se.access(t,n,l,r[l],!0,s,a)}else if(i!==e&&(o=!0,se.isFunction(i)||(a=!0),u&&(a?(n.call(t,i),n=null):(u=n,n=function(t,e,n){return u.call(se(t),n)})),n))for(;c>l;l++)n(t[l],r,a?i:i.call(t[l],l,n(t[l],r)));return o?t:u?n.call(t):c?n(t[0],r):s},now:Date.now,swap:function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i}}),se.ready.promise=function(e){return Q||(Q=se.Deferred(),"complete"===W.readyState?setTimeout(se.ready):(W.addEventListener("DOMContentLoaded",fe,!1),t.addEventListener("load",fe,!1))),Q.promise(e)},se.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()}),H=se(W),function(t,e){function n(t,e,n,r){var i,o,s,a,l,c,u,h,f,g;if((e?e.ownerDocument||e:F)!==q&&O(e),e=e||q,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(N&&!r){if(i=be.exec(t))if(s=i[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&B(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return te.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&k.getElementsByClassName&&e.getElementsByClassName)return te.apply(n,e.getElementsByClassName(s)),n}if(k.qsa&&(!R||!R.test(t))){if(h=u=I,f=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=p(t),(u=e.getAttribute("id"))?h=u.replace(Ce,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+d(c[l]);f=de.test(t)&&e.parentNode||e,g=c.join(",")}if(g)try{return te.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{u||e.removeAttribute("id")}}}return x(t.replace(ue,"$1"),e,n,r)}function r(){function t(n,r){return e.push(n+=" ")>j.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function i(t){return t[I]=!0,t}function o(t){var e=q.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),r=t.length;r--;)j.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function h(){}function p(t,e){var r,i,o,s,a,l,c,u=z[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=j.preFilter;a;){(!r||(i=he.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=pe.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),a=a.slice(r.length));for(s in j.filter)!(i=ve[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));
if(!r)break}return e?a.length:a?n.error(t):z(t,l).slice(0)}function d(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function f(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=H++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,l,c,u=P+" "+o;if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i)if(c=e[I]||(e[I]={}),(l=c[r])&&l[0]===u){if((a=l[1])===!0||a===T)return a===!0}else if(l=c[r]=[u],l[1]=t(e,n,s)||T,l[1]===!0)return!0}}function g(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function m(t,e,n,r,i){for(var o,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,r,i))&&(s.push(o),c&&e.push(a));return s}function v(t,e,n,r,o,s){return r&&!r[I]&&(r=v(r)),o&&!o[I]&&(o=v(o,s)),i(function(i,s,a,l){var c,u,h,p=[],d=[],f=s.length,g=i||w(e||"*",a.nodeType?[a]:a,[]),v=!t||!i&&e?g:m(g,p,t,a,l),y=n?o||(i?t:f||r)?[]:s:v;if(n&&n(v,y,a,l),r)for(c=m(y,d),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[d[u]]=!(v[d[u]]=h));if(i){if(o||t){if(o){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);o(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=o?ne.call(i,h):p[u])>-1&&(i[c]=!(s[c]=h))}}else y=m(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):te.apply(s,y)})}function y(t){for(var e,n,r,i=t.length,o=j.relative[t[0].type],s=o||j.relative[" "],a=o?1:0,l=f(function(t){return t===e},s,!0),c=f(function(t){return ne.call(e,t)>-1},s,!0),u=[function(t,n,r){return!o&&(r||n!==E)||((e=n).nodeType?l(t,n,r):c(t,n,r))}];i>a;a++)if(n=j.relative[t[a].type])u=[f(g(u),n)];else{if(n=j.filter[t[a].type].apply(null,t[a].matches),n[I]){for(r=++a;i>r&&!j.relative[t[r].type];r++);return v(a>1&&g(u),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ue,"$1"),n,r>a&&y(t.slice(a,r)),i>r&&y(t=t.slice(r)),i>r&&d(t))}u.push(n)}return g(u)}function b(t,e){var r=0,o=e.length>0,s=t.length>0,a=function(i,a,l,c,u){var h,p,d,f=[],g=0,v="0",y=i&&[],b=null!=u,w=E,x=i||s&&j.find.TAG("*",u&&a.parentNode||a),C=P+=null==w?1:Math.random()||.1;for(b&&(E=a!==q&&a,T=r);null!=(h=x[v]);v++){if(s&&h){for(p=0;d=t[p++];)if(d(h,a,l)){c.push(h);break}b&&(P=C,T=++r)}o&&((h=!d&&h)&&g--,i&&y.push(h))}if(g+=v,o&&v!==g){for(p=0;d=e[p++];)d(y,f,a,l);if(i){if(g>0)for(;v--;)y[v]||f[v]||(f[v]=G.call(c));f=m(f)}te.apply(c,f),b&&!i&&f.length>0&&g+e.length>1&&n.uniqueSort(c)}return b&&(P=C,E=w),y};return o?i(a):a}function w(t,e,r){for(var i=0,o=e.length;o>i;i++)n(t,e[i],r);return r}function x(t,e,n,r){var i,o,s,a,l,c=p(t);if(!r&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&k.getById&&9===e.nodeType&&N&&j.relative[o[1].type]){if(e=(j.find.ID(s.matches[0].replace(ke,Te),e)||[])[0],!e)return n;t=t.slice(o.shift().value.length)}for(i=ve.needsContext.test(t)?0:o.length;i--&&(s=o[i],!j.relative[a=s.type]);)if((l=j.find[a])&&(r=l(s.matches[0].replace(ke,Te),de.test(o[0].type)&&e.parentNode||e))){if(o.splice(i,1),t=r.length&&d(o),!t)return te.apply(n,r),n;break}}return D(t,c)(r,e,!N,n,de.test(t)),n}var C,k,T,j,S,$,D,E,A,O,q,_,N,R,L,M,B,I="sizzle"+-new Date,F=t.document,P=0,H=0,Q=r(),z=r(),U=r(),W=!1,J=function(t,e){return t===e?(W=!0,0):0},V=typeof e,X=1<<31,Y={}.hasOwnProperty,K=[],G=K.pop,Z=K.push,te=K.push,ee=K.slice,ne=K.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},re="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=oe.replace("w","w#"),le="\\["+ie+"*("+oe+")"+ie+"*(?:([*^$|!~]?=)"+ie+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+ie+"*\\]",ce=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+le.replace(3,8)+")*)|.*)\\)|)",ue=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),he=new RegExp("^"+ie+"*,"+ie+"*"),pe=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=new RegExp(ie+"*[+~]"),fe=new RegExp("="+ie+"*([^\\]'\"]*)"+ie+"*\\]","g"),ge=new RegExp(ce),me=new RegExp("^"+ae+"$"),ve={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+le),PSEUDO:new RegExp("^"+ce),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+re+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,xe=/^h\d$/i,Ce=/'|\\/g,ke=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),Te=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{te.apply(K=ee.call(F.childNodes),F.childNodes),K[F.childNodes.length].nodeType}catch(je){te={apply:K.length?function(t,e){Z.apply(t,ee.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}$=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},k=n.support={},O=n.setDocument=function(t){var e=t?t.ownerDocument||t:F,n=e.defaultView;return e!==q&&9===e.nodeType&&e.documentElement?(q=e,_=e.documentElement,N=!$(e),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){O()}),k.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),k.getElementsByTagName=o(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),k.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),k.getById=o(function(t){return _.appendChild(t).id=I,!e.getElementsByName||!e.getElementsByName(I).length}),k.getById?(j.find.ID=function(t,e){if(typeof e.getElementById!==V&&N){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},j.filter.ID=function(t){var e=t.replace(ke,Te);return function(t){return t.getAttribute("id")===e}}):(delete j.find.ID,j.filter.ID=function(t){var e=t.replace(ke,Te);return function(t){var n=typeof t.getAttributeNode!==V&&t.getAttributeNode("id");return n&&n.value===e}}),j.find.TAG=k.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==V?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},j.find.CLASS=k.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==V&&N?e.getElementsByClassName(t):void 0},L=[],R=[],(k.qsa=ye.test(e.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||R.push("\\["+ie+"*(?:value|"+re+")"),t.querySelectorAll(":checked").length||R.push(":checked")}),o(function(t){var n=e.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&R.push("[*^$]="+ie+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(k.matchesSelector=ye.test(M=_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&o(function(t){k.disconnectedMatch=M.call(t,"div"),M.call(t,"[s!='']:x"),L.push("!=",ce)}),R=R.length&&new RegExp(R.join("|")),L=L.length&&new RegExp(L.join("|")),B=ye.test(_.contains)||_.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},J=_.compareDocumentPosition?function(t,n){if(t===n)return W=!0,0;var r=n.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(n);return r?1&r||!k.sortDetached&&n.compareDocumentPosition(t)===r?t===e||B(F,t)?-1:n===e||B(F,n)?1:A?ne.call(A,t)-ne.call(A,n):0:4&r?-1:1:t.compareDocumentPosition?-1:1}:function(t,n){var r,i=0,o=t.parentNode,s=n.parentNode,l=[t],c=[n];if(t===n)return W=!0,0;if(!o||!s)return t===e?-1:n===e?1:o?-1:s?1:A?ne.call(A,t)-ne.call(A,n):0;if(o===s)return a(t,n);for(r=t;r=r.parentNode;)l.unshift(r);for(r=n;r=r.parentNode;)c.unshift(r);for(;l[i]===c[i];)i++;return i?a(l[i],c[i]):l[i]===F?-1:c[i]===F?1:0},e):q},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==q&&O(t),e=e.replace(fe,"='$1']"),!(!k.matchesSelector||!N||L&&L.test(e)||R&&R.test(e)))try{var r=M.call(t,e);if(r||k.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return n(e,q,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==q&&O(t),B(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==q&&O(t);var r=j.attrHandle[n.toLowerCase()],i=r&&Y.call(j.attrHandle,n.toLowerCase())?r(t,n,!N):e;return i===e?k.attributes||!N?t.getAttribute(n):(i=t.getAttributeNode(n))&&i.specified?i.value:null:i},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],r=0,i=0;if(W=!k.detectDuplicates,A=!k.sortStable&&t.slice(0),t.sort(J),W){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return t},S=n.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r];r++)n+=S(e);return n},j=n.selectors={cacheLength:50,createPseudo:i,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ke,Te),t[3]=(t[4]||t[5]||"").replace(ke,Te),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,r=!t[5]&&t[2];return ve.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:r&&ge.test(r)&&(n=p(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(t[0]=t[0].slice(0,n),t[2]=r.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ke,Te).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Q[t+" "];return e||(e=new RegExp("(^|"+ie+")"+t+"("+ie+"|$)"))&&Q(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==V&&t.getAttribute("class")||"")})},ATTR:function(t,e,r){return function(i){var o=n.attr(i,t);return null==o?"!="===e:e?(o+="","="===e?o===r:"!="===e?o!==r:"^="===e?r&&0===o.indexOf(r):"*="===e?r&&o.indexOf(r)>-1:"$="===e?r&&o.slice(-r.length)===r:"~="===e?(" "+o+" ").indexOf(r)>-1:"|="===e?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,p,d,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(u=m[I]||(m[I]={}),c=u[t]||[],d=c[0]===P&&c[1],p=c[0]===P&&c[2],h=d&&m.childNodes[d];h=++d&&h&&h[g]||(p=d=0)||f.pop();)if(1===h.nodeType&&++p&&h===e){u[t]=[P,d,p];break}}else if(y&&(c=(e[I]||(e[I]={}))[t])&&c[0]===P)p=c[1];else for(;(h=++d&&h&&h[g]||(p=d=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++p||(y&&((h[I]||(h[I]={}))[t]=[P,p]),h!==e)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(t,e){var r,o=j.pseudos[t]||j.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return o[I]?o(e):o.length>1?(r=[t,t,"",e],j.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,n){for(var r,i=o(t,e),s=i.length;s--;)r=ne.call(t,i[s]),t[r]=!(n[r]=i[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=D(t.replace(ue,"$1"));return r[I]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:i(function(t){return function(e){return n(t,e).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:i(function(t){return me.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(ke,Te).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===_},focus:function(t){return t===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!j.pseudos.empty(t)},header:function(t){return xe.test(t.nodeName)},input:function(t){return we.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:u(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},j.pseudos.nth=j.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})j.pseudos[C]=l(C);for(C in{submit:!0,reset:!0})j.pseudos[C]=c(C);h.prototype=j.filters=j.pseudos,j.setFilters=new h,D=n.compile=function(t,e){var n,r=[],i=[],o=U[t+" "];if(!o){for(e||(e=p(t)),n=e.length;n--;)o=y(e[n]),o[I]?r.push(o):i.push(o);o=U(t,b(i,r))}return o},k.sortStable=I.split("").sort(J).join("")===I,k.detectDuplicates=W,O(),k.sortDetached=o(function(t){return 1&t.compareDocumentPosition(q.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),k.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||s(re,function(t,e,n){var r;return n?void 0:(r=t.getAttributeNode(e))&&r.specified?r.value:t[e]===!0?e.toLowerCase():null}),se.find=n,se.expr=n.selectors,se.expr[":"]=se.expr.pseudos,se.unique=n.uniqueSort,se.text=n.getText,se.isXMLDoc=n.isXML,se.contains=n.contains}(t);var ge={};se.Callbacks=function(t){t="string"==typeof t?ge[t]||i(t):se.extend({},t);var n,r,o,s,a,l,c=[],u=!t.once&&[],h=function(e){for(n=t.memory&&e,r=!0,l=s||0,s=0,a=c.length,o=!0;c&&a>l;l++)if(c[l].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}o=!1,c&&(u?u.length&&h(u.shift()):n?c=[]:p.disable())},p={add:function(){if(c){var e=c.length;!function r(e){se.each(e,function(e,n){var i=se.type(n);"function"===i?t.unique&&p.has(n)||c.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),o?a=c.length:n&&(s=e,h(n))}return this},remove:function(){return c&&se.each(arguments,function(t,e){for(var n;(n=se.inArray(e,c,n))>-1;)c.splice(n,1),o&&(a>=n&&a--,l>=n&&l--)}),this},has:function(t){return t?se.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=n=e,this},disabled:function(){return!c},lock:function(){return u=e,n||p.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!c||r&&!u||(e=e||[],e=[t,e.slice?e.slice():e],o?u.push(e):h(e)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},se.extend({Deferred:function(t){var e=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return se.Deferred(function(n){se.each(e,function(e,o){var s=o[0],a=se.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&se.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?se.extend(t,r):r}},i={};return r.pipe=r.then,se.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=ee.call(arguments),s=o.length,a=1!==s||t&&se.isFunction(t.promise)?s:0,l=1===a?t:se.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?ee.call(arguments):i,r===e?l.notifyWith(n,r):--a||l.resolveWith(n,r)}};if(s>1)for(e=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&se.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(l.reject).progress(c(i,n,e)):--a;return a||l.resolveWith(r,o),l.promise()}}),se.support=function(e){var n=W.createElement("input"),r=W.createDocumentFragment(),i=W.createElement("div"),o=W.createElement("select"),s=o.appendChild(W.createElement("option"));return n.type?(n.type="checkbox",e.checkOn=""!==n.value,e.optSelected=s.selected,e.reliableMarginRight=!0,e.boxSizingReliable=!0,e.pixelPosition=!1,n.checked=!0,e.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!s.disabled,n=W.createElement("input"),n.value="t",n.type="radio",e.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),e.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,e.focusinBubbles="onfocusin"in t,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===i.style.backgroundClip,se(function(){var n,r,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",s=W.getElementsByTagName("body")[0];s&&(n=W.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",se.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===i.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(i,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(W.createElement("div")),r.style.cssText=i.style.cssText=o,r.style.marginRight=r.style.width="0",i.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)),s.removeChild(n))}),e):e}({});var me,ve,ye=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,be=/([A-Z])/g;o.uid=1,o.accepts=function(t){return t.nodeType?1===t.nodeType||9===t.nodeType:!0},o.prototype={key:function(t){if(!o.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=o.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,se.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(se.isEmptyObject(o))se.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,n){var r=this.cache[this.key(t)];return n===e?r:r[n]},access:function(t,n,r){var i;return n===e||n&&"string"==typeof n&&r===e?(i=this.get(t,n),i!==e?i:this.get(t,se.camelCase(n))):(this.set(t,n,r),r!==e?r:n)},remove:function(t,n){var r,i,o,s=this.key(t),a=this.cache[s];if(n===e)this.cache[s]={};else{se.isArray(n)?i=n.concat(n.map(se.camelCase)):(o=se.camelCase(n),n in a?i=[n,o]:(i=o,i=i in a?[i]:i.match(le)||[])),r=i.length;for(;r--;)delete a[i[r]]}},hasData:function(t){return!se.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}},me=new o,ve=new o,se.extend({acceptData:o.accepts,hasData:function(t){return me.hasData(t)||ve.hasData(t)},data:function(t,e,n){return me.access(t,e,n)},removeData:function(t,e){me.remove(t,e)},_data:function(t,e,n){return ve.access(t,e,n)},_removeData:function(t,e){ve.remove(t,e)}}),se.fn.extend({data:function(t,n){var r,i,o=this[0],a=0,l=null;if(t===e){if(this.length&&(l=me.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(r=o.attributes;a<r.length;a++)i=r[a].name,0===i.indexOf("data-")&&(i=se.camelCase(i.slice(5)),s(o,i,l[i]));ve.set(o,"hasDataAttrs",!0)}return l}return"object"==typeof t?this.each(function(){me.set(this,t)}):se.access(this,function(n){var r,i=se.camelCase(t);if(o&&n===e){if(r=me.get(o,t),r!==e)return r;if(r=me.get(o,i),r!==e)return r;if(r=s(o,i,e),r!==e)return r}else this.each(function(){var r=me.get(this,i);me.set(this,i,n),-1!==t.indexOf("-")&&r!==e&&me.set(this,t,n)})},null,n,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){me.remove(this,t)})}}),se.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=ve.get(t,e),n&&(!r||se.isArray(n)?r=ve.access(t,e,se.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=se.queue(t,e),r=n.length,i=n.shift(),o=se._queueHooks(t,e),s=function(){se.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ve.get(t,n)||ve.access(t,n,{empty:se.Callbacks("once memory").add(function(){ve.remove(t,[e+"queue",n])})})}}),se.fn.extend({queue:function(t,n){var r=2;return"string"!=typeof t&&(n=t,t="fx",r--),arguments.length<r?se.queue(this[0],t):n===e?this:this.each(function(){var e=se.queue(this,t,n);se._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&se.dequeue(this,t)})},dequeue:function(t){return this.each(function(){se.dequeue(this,t)})},delay:function(t,e){return t=se.fx?se.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var r,i=1,o=se.Deferred(),s=this,a=this.length,l=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)r=ve.get(s[a],t+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var we,xe,Ce=/[\t\r\n\f]/g,ke=/\r/g,Te=/^(?:input|select|textarea|button)$/i;se.fn.extend({attr:function(t,e){return se.access(this,se.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){se.removeAttr(this,t)})},prop:function(t,e){return se.access(this,se.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[se.propFix[t]||t]})},addClass:function(t){var e,n,r,i,o,s=0,a=this.length,l="string"==typeof t&&t;if(se.isFunction(t))return this.each(function(e){se(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(le)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ce," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=se.trim(r)}return this},removeClass:function(t){var e,n,r,i,o,s=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(se.isFunction(t))return this.each(function(e){se(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(le)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ce," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=t?se.trim(r):""}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):se.isFunction(t)?this.each(function(n){se(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,r=0,i=se(this),o=t.match(le)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===z||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ce," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,r,i,o=this[0];{if(arguments.length)return i=se.isFunction(t),this.each(function(r){var o;1===this.nodeType&&(o=i?t.call(this,r,se(this).val()):t,null==o?o="":"number"==typeof o?o+="":se.isArray(o)&&(o=se.map(o,function(t){return null==t?"":t+""})),n=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==e||(this.value=o))});if(o)return n=se.valHooks[o.type]||se.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==e?r:(r=o.value,"string"==typeof r?r.replace(ke,""):null==r?"":r)}}}),se.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,s=o?null:[],a=o?i+1:r.length,l=0>i?a:o?i:0;a>l;l++)if(n=r[l],!(!n.selected&&l!==i||(se.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&se.nodeName(n.parentNode,"optgroup"))){if(e=se(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=se.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=se.inArray(se(r).val(),o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}},attr:function(t,n,r){var i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===z?se.prop(t,n,r):(1===s&&se.isXMLDoc(t)||(n=n.toLowerCase(),i=se.attrHooks[n]||(se.expr.match.bool.test(n)?xe:we)),r===e?i&&"get"in i&&null!==(o=i.get(t,n))?o:(o=se.find.attr(t,n),null==o?e:o):null!==r?i&&"set"in i&&(o=i.set(t,r,n))!==e?o:(t.setAttribute(n,r+""),r):(se.removeAttr(t,n),void 0))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(le);if(o&&1===t.nodeType)for(;n=o[i++];)r=se.propFix[n]||n,se.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!se.support.radioValue&&"radio"===e&&se.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,r){var i,o,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!se.isXMLDoc(t),s&&(n=se.propFix[n]||n,o=se.propHooks[n]),r!==e?o&&"set"in o&&(i=o.set(t,r,n))!==e?i:t[n]=r:o&&"get"in o&&null!==(i=o.get(t,n))?i:t[n]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Te.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),xe={set:function(t,e,n){return e===!1?se.removeAttr(t,n):t.setAttribute(n,n),n}},se.each(se.expr.match.bool.source.match(/\w+/g),function(t,n){var r=se.expr.attrHandle[n]||se.find.attr;se.expr.attrHandle[n]=function(t,n,i){var o=se.expr.attrHandle[n],s=i?e:(se.expr.attrHandle[n]=e)!=r(t,n,i)?n.toLowerCase():null;return se.expr.attrHandle[n]=o,s}}),se.support.optSelected||(se.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){se.propFix[this.toLowerCase()]=this}),se.each(["radio","checkbox"],function(){se.valHooks[this]={set:function(t,e){return se.isArray(e)?t.checked=se.inArray(se(t).val(),e)>=0:void 0}},se.support.checkOn||(se.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var je=/^key/,Se=/^(?:mouse|contextmenu)|click/,$e=/^(?:focusinfocus|focusoutblur)$/,De=/^([^.]*)(?:\.(.+)|)$/;se.event={global:{},add:function(t,n,r,i,o){var s,a,l,c,u,h,p,d,f,g,m,v=ve.get(t);if(v){for(r.handler&&(s=r,r=s.handler,o=s.selector),r.guid||(r.guid=se.guid++),(c=v.events)||(c=v.events={}),(a=v.handle)||(a=v.handle=function(t){return typeof se===z||t&&se.event.triggered===t.type?e:se.event.dispatch.apply(a.elem,arguments)},a.elem=t),n=(n||"").match(le)||[""],u=n.length;u--;)l=De.exec(n[u])||[],f=m=l[1],g=(l[2]||"").split(".").sort(),f&&(p=se.event.special[f]||{},f=(o?p.delegateType:p.bindType)||f,p=se.event.special[f]||{},h=se.extend({type:f,origType:m,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&se.expr.match.needsContext.test(o),namespace:g.join(".")},s),(d=c[f])||(d=c[f]=[],d.delegateCount=0,p.setup&&p.setup.call(t,i,g,a)!==!1||t.addEventListener&&t.addEventListener(f,a,!1)),p.add&&(p.add.call(t,h),h.handler.guid||(h.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),se.event.global[f]=!0);t=null}},remove:function(t,e,n,r,i){var o,s,a,l,c,u,h,p,d,f,g,m=ve.hasData(t)&&ve.get(t);if(m&&(l=m.events)){for(e=(e||"").match(le)||[""],c=e.length;c--;)if(a=De.exec(e[c])||[],d=g=a[1],f=(a[2]||"").split(".").sort(),d){for(h=se.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,p=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)u=p[o],!i&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,h.remove&&h.remove.call(t,u));s&&!p.length&&(h.teardown&&h.teardown.call(t,f,m.handle)!==!1||se.removeEvent(t,d,m.handle),delete l[d])}else for(d in l)se.event.remove(t,d+e[c],n,r,!0);se.isEmptyObject(l)&&(delete m.handle,ve.remove(t,"events"))}},trigger:function(n,r,i,o){var s,a,l,c,u,h,p,d=[i||W],f=ie.call(n,"type")?n.type:n,g=ie.call(n,"namespace")?n.namespace.split("."):[];if(a=l=i=i||W,3!==i.nodeType&&8!==i.nodeType&&!$e.test(f+se.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),u=f.indexOf(":")<0&&"on"+f,n=n[se.expando]?n:new se.Event(f,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=i),r=null==r?[n]:se.makeArray(r,[n]),p=se.event.special[f]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!se.isWindow(i)){for(c=p.delegateType||f,$e.test(c+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),l=a;l===(i.ownerDocument||W)&&d.push(l.defaultView||l.parentWindow||t)}for(s=0;(a=d[s++])&&!n.isPropagationStopped();)n.type=s>1?c:p.bindType||f,h=(ve.get(a,"events")||{})[n.type]&&ve.get(a,"handle"),h&&h.apply(a,r),h=u&&a[u],h&&se.acceptData(a)&&h.apply&&h.apply(a,r)===!1&&n.preventDefault();return n.type=f,o||n.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),r)!==!1||!se.acceptData(i)||u&&se.isFunction(i[f])&&!se.isWindow(i)&&(l=i[u],l&&(i[u]=null),se.event.triggered=f,i[f](),se.event.triggered=e,l&&(i[u]=l)),n.result
}},dispatch:function(t){t=se.event.fix(t);var n,r,i,o,s,a=[],l=ee.call(arguments),c=(ve.get(this,"events")||{})[t.type]||[],u=se.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=se.event.handlers.call(this,t,c),n=0;(o=a[n++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,r=0;(s=o.handlers[r++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,i=((se.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l),i!==e&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,n){var r,i,o,s,a=[],l=n.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==t.type){for(i=[],r=0;l>r;r++)s=n[r],o=s.selector+" ",i[o]===e&&(i[o]=s.needsContext?se(o,this).index(c)>=0:se.find(o,this,null,[c]).length),i[o]&&i.push(s);i.length&&a.push({elem:c,handlers:i})}return l<n.length&&a.push({elem:this,handlers:n.slice(l)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var r,i,o,s=n.button;return null==t.pageX&&null!=n.clientX&&(r=t.target.ownerDocument||W,i=r.documentElement,o=r.body,t.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[se.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Se.test(i)?this.mouseHooks:je.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new se.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=W),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&se.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return se.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=se.extend(new se.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?se.event.trigger(i,null,e):se.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},se.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},se.Event=function(t,e){return this instanceof se.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.getPreventDefault&&t.getPreventDefault()?a:l):this.type=t,e&&se.extend(this,e),this.timeStamp=t&&t.timeStamp||se.now(),this[se.expando]=!0,void 0):new se.Event(t,e)},se.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=a,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=a,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){se.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!se.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),se.support.focusinBubbles||se.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,r=function(t){se.event.simulate(e,t.target,se.event.fix(t),!0)};se.event.special[e]={setup:function(){0===n++&&W.addEventListener(t,r,!0)},teardown:function(){0===--n&&W.removeEventListener(t,r,!0)}}}),se.fn.extend({on:function(t,n,r,i,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=e);for(a in t)this.on(a,n,r,t[a],o);return this}if(null==r&&null==i?(i=n,r=n=e):null==i&&("string"==typeof n?(i=r,r=e):(i=r,r=n,n=e)),i===!1)i=l;else if(!i)return this;return 1===o&&(s=i,i=function(t){return se().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=se.guid++)),this.each(function(){se.event.add(this,t,i,r,n)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,n,r){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,se(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=e),r===!1&&(r=l),this.each(function(){se.event.remove(this,t,r,n)})},trigger:function(t,e){return this.each(function(){se.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?se.event.trigger(t,e,n,!0):void 0}});var Ee=/^.[^:#\[\.,]*$/,Ae=/^(?:parents|prev(?:Until|All))/,Oe=se.expr.match.needsContext,qe={children:!0,contents:!0,next:!0,prev:!0};se.fn.extend({find:function(t){var e,n=[],r=this,i=r.length;if("string"!=typeof t)return this.pushStack(se(t).filter(function(){for(e=0;i>e;e++)if(se.contains(r[e],this))return!0}));for(e=0;i>e;e++)se.find(t,r[e],n);return n=this.pushStack(i>1?se.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e=se(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(se.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(h(this,t||[],!0))},filter:function(t){return this.pushStack(h(this,t||[],!1))},is:function(t){return!!h(this,"string"==typeof t&&Oe.test(t)?se(t):t||[],!1).length},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=Oe.test(t)||"string"!=typeof t?se(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&se.find.matchesSelector(n,t))){n=o.push(n);break}return this.pushStack(o.length>1?se.unique(o):o)},index:function(t){return t?"string"==typeof t?ne.call(se(t),this[0]):ne.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?se(t,e):se.makeArray(t&&t.nodeType?[t]:t),r=se.merge(this.get(),n);return this.pushStack(se.unique(r))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),se.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return se.dir(t,"parentNode")},parentsUntil:function(t,e,n){return se.dir(t,"parentNode",n)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return se.dir(t,"nextSibling")},prevAll:function(t){return se.dir(t,"previousSibling")},nextUntil:function(t,e,n){return se.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return se.dir(t,"previousSibling",n)},siblings:function(t){return se.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return se.sibling(t.firstChild)},contents:function(t){return t.contentDocument||se.merge([],t.childNodes)}},function(t,e){se.fn[t]=function(n,r){var i=se.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=se.filter(r,i)),this.length>1&&(qe[t]||se.unique(i),Ae.test(t)&&i.reverse()),this.pushStack(i)}}),se.extend({filter:function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?se.find.matchesSelector(r,t)?[r]:[]:se.find.matches(t,se.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,r){for(var i=[],o=r!==e;(t=t[n])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&se(t).is(r))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var _e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ne=/<([\w:]+)/,Re=/<|&#?\w+;/,Le=/<(?:script|style|link)/i,Me=/^(?:checkbox|radio)$/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,Fe=/^true\/(.*)/,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,He={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};He.optgroup=He.option,He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td,se.fn.extend({text:function(t){return se.access(this,function(t){return t===e?se.text(this):this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?se.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||se.cleanData(v(n)),n.parentNode&&(e&&se.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(se.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return se.clone(this,t,e)})},html:function(t){return se.access(this,function(t){var n=this[0]||{},r=0,i=this.length;if(t===e&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!Le.test(t)&&!He[(Ne.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(_e,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(se.cleanData(v(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=se.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var r=t[e++],i=t[e++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),se(this).remove(),i.insertBefore(n,r))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=Z.apply([],t);var r,i,o,s,a,l,c=0,u=this.length,h=this,p=u-1,g=t[0],m=se.isFunction(g);if(m||!(1>=u||"string"!=typeof g||se.support.checkClone)&&Be.test(g))return this.each(function(r){var i=h.eq(r);m&&(t[0]=g.call(this,r,i.html())),i.domManip(t,e,n)});if(u&&(r=se.buildFragment(t,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=se.map(v(r,"script"),d),s=o.length;u>c;c++)a=r,c!==p&&(a=se.clone(a,!0,!0),s&&se.merge(o,v(a,"script"))),e.call(this[c],a,c);if(s)for(l=o[o.length-1].ownerDocument,se.map(o,f),c=0;s>c;c++)a=o[c],Ie.test(a.type||"")&&!ve.access(a,"globalEval")&&se.contains(l,a)&&(a.src?se._evalUrl(a.src):se.globalEval(a.textContent.replace(Pe,"")))}return this}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){se.fn[t]=function(t){for(var n,r=[],i=se(t),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),se(i[s])[e](n),te.apply(r,n.get());return this.pushStack(r)}}),se.extend({clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),l=se.contains(t.ownerDocument,t);if(!(se.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||se.isXMLDoc(t)))for(s=v(a),o=v(t),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(e)if(n)for(o=o||v(t),s=s||v(a),r=0,i=o.length;i>r;r++)m(o[r],s[r]);else m(t,a);return s=v(a,"script"),s.length>0&&g(s,!l&&v(t,"script")),a},buildFragment:function(t,e,n,r){for(var i,o,s,a,l,c,u=0,h=t.length,p=e.createDocumentFragment(),d=[];h>u;u++)if(i=t[u],i||0===i)if("object"===se.type(i))se.merge(d,i.nodeType?[i]:i);else if(Re.test(i)){for(o=o||p.appendChild(e.createElement("div")),s=(Ne.exec(i)||["",""])[1].toLowerCase(),a=He[s]||He._default,o.innerHTML=a[1]+i.replace(_e,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;se.merge(d,o.childNodes),o=p.firstChild,o.textContent=""}else d.push(e.createTextNode(i));for(p.textContent="",u=0;i=d[u++];)if((!r||-1===se.inArray(i,r))&&(l=se.contains(i.ownerDocument,i),o=v(p.appendChild(i),"script"),l&&g(o),n))for(c=0;i=o[c++];)Ie.test(i.type||"")&&n.push(i);return p},cleanData:function(t){for(var n,r,i,s,a,l,c=se.event.special,u=0;(r=t[u])!==e;u++){if(o.accepts(r)&&(a=r[ve.expando],a&&(n=ve.cache[a]))){if(i=Object.keys(n.events||{}),i.length)for(l=0;(s=i[l])!==e;l++)c[s]?se.event.remove(r,s):se.removeEvent(r,s,n.handle);ve.cache[a]&&delete ve.cache[a]}delete me.cache[r[me.expando]]}},_evalUrl:function(t){return se.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),se.fn.extend({wrapAll:function(t){var e;return se.isFunction(t)?this.each(function(e){se(this).wrapAll(t.call(this,e))}):(this[0]&&(e=se(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return se.isFunction(t)?this.each(function(e){se(this).wrapInner(t.call(this,e))}):this.each(function(){var e=se(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=se.isFunction(t);return this.each(function(n){se(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()}});var Qe,ze,Ue=/^(none|table(?!-c[ea]).+)/,We=/^margin/,Je=new RegExp("^("+ae+")(.*)$","i"),Ve=new RegExp("^("+ae+")(?!px)[a-z%]+$","i"),Xe=new RegExp("^([+-])=("+ae+")","i"),Ye={BODY:"block"},Ke={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:0,fontWeight:400},Ze=["Top","Right","Bottom","Left"],tn=["Webkit","O","Moz","ms"];se.fn.extend({css:function(t,n){return se.access(this,function(t,n,r){var i,o,s={},a=0;if(se.isArray(n)){for(i=x(t),o=n.length;o>a;a++)s[n[a]]=se.css(t,n[a],!1,i);return s}return r!==e?se.style(t,n,r):se.css(t,n)},t,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){w(this)?se(this).show():se(this).hide()})}}),se.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Qe(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,n,r,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,l=se.camelCase(n),c=t.style;return n=se.cssProps[l]||(se.cssProps[l]=b(c,l)),a=se.cssHooks[n]||se.cssHooks[l],r===e?a&&"get"in a&&(o=a.get(t,!1,i))!==e?o:c[n]:(s=typeof r,"string"===s&&(o=Xe.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(se.css(t,n)),s="number"),null==r||"number"===s&&isNaN(r)||("number"!==s||se.cssNumber[l]||(r+="px"),se.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(r=a.set(t,r,i))===e||(c[n]=r)),void 0)}},css:function(t,n,r,i){var o,s,a,l=se.camelCase(n);return n=se.cssProps[l]||(se.cssProps[l]=b(t.style,l)),a=se.cssHooks[n]||se.cssHooks[l],a&&"get"in a&&(o=a.get(t,!0,r)),o===e&&(o=Qe(t,n,i)),"normal"===o&&n in Ge&&(o=Ge[n]),""===r||r?(s=parseFloat(o),r===!0||se.isNumeric(s)?s||0:o):o}}),Qe=function(t,n,r){var i,o,s,a=r||x(t),l=a?a.getPropertyValue(n)||a[n]:e,c=t.style;return a&&(""!==l||se.contains(t.ownerDocument,t)||(l=se.style(t,n)),Ve.test(l)&&We.test(n)&&(i=c.width,o=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=i,c.minWidth=o,c.maxWidth=s)),l},se.each(["height","width"],function(t,e){se.cssHooks[e]={get:function(t,n,r){return n?0===t.offsetWidth&&Ue.test(se.css(t,"display"))?se.swap(t,Ke,function(){return j(t,e,r)}):j(t,e,r):void 0},set:function(t,n,r){var i=r&&x(t);return k(t,n,r?T(t,e,r,se.support.boxSizing&&"border-box"===se.css(t,"boxSizing",!1,i),i):0)}}}),se(function(){se.support.reliableMarginRight||(se.cssHooks.marginRight={get:function(t,e){return e?se.swap(t,{display:"inline-block"},Qe,[t,"marginRight"]):void 0}}),!se.support.pixelPosition&&se.fn.position&&se.each(["top","left"],function(t,e){se.cssHooks[e]={get:function(t,n){return n?(n=Qe(t,e),Ve.test(n)?se(t).position()[e]+"px":n):void 0}}})}),se.expr&&se.expr.filters&&(se.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},se.expr.filters.visible=function(t){return!se.expr.filters.hidden(t)}),se.each({margin:"",padding:"",border:"Width"},function(t,e){se.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Ze[r]+e]=o[r]||o[r-2]||o[0];return i}},We.test(t)||(se.cssHooks[t+e].set=k)});var en=/%20/g,nn=/\[\]$/,rn=/\r?\n/g,on=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=se.prop(this,"elements");return t?se.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!se(this).is(":disabled")&&sn.test(this.nodeName)&&!on.test(t)&&(this.checked||!Me.test(t))}).map(function(t,e){var n=se(this).val();return null==n?null:se.isArray(n)?se.map(n,function(t){return{name:e.name,value:t.replace(rn,"\r\n")}}):{name:e.name,value:n.replace(rn,"\r\n")}}).get()}}),se.param=function(t,n){var r,i=[],o=function(t,e){e=se.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(t)||t.jquery&&!se.isPlainObject(t))se.each(t,function(){o(this.name,this.value)});else for(r in t)D(r,t[r],n,o);return i.join("&").replace(en,"+")},se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){se.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),se.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var an,ln,cn=se.now(),un=/\?/,hn=/#.*$/,pn=/([?&])_=[^&]*/,dn=/^(.*?):[ \t]*([^\r\n]*)$/gm,fn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gn=/^(?:GET|HEAD)$/,mn=/^\/\//,vn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,yn=se.fn.load,bn={},wn={},xn="*/".concat("*");try{ln=U.href}catch(Cn){ln=W.createElement("a"),ln.href="",ln=ln.href}an=vn.exec(ln.toLowerCase())||[],se.fn.load=function(t,n,r){if("string"!=typeof t&&yn)return yn.apply(this,arguments);var i,o,s,a=this,l=t.indexOf(" ");return l>=0&&(i=t.slice(l),t=t.slice(0,l)),se.isFunction(n)?(r=n,n=e):n&&"object"==typeof n&&(o="POST"),a.length>0&&se.ajax({url:t,type:o,dataType:"html",data:n}).done(function(t){s=arguments,a.html(i?se("<div>").append(se.parseHTML(t)).find(i):t)}).complete(r&&function(t,e){a.each(r,s||[t.responseText,e,t])}),this},se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){se.fn[e]=function(t){return this.on(e,t)}}),se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ln,type:"GET",isLocal:fn.test(an[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?O(O(t,se.ajaxSettings),e):O(se.ajaxSettings,t)},ajaxPrefilter:E(bn),ajaxTransport:E(wn),ajax:function(t,n){function r(t,n,r,a){var c,h,y,b,x,k=n;2!==w&&(w=2,l&&clearTimeout(l),i=e,s=a||"",C.readyState=t>0?4:0,c=t>=200&&300>t||304===t,r&&(b=q(p,C,r)),b=_(p,b,C,c),c?(p.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(se.lastModified[o]=x),x=C.getResponseHeader("etag"),x&&(se.etag[o]=x)),204===t||"HEAD"===p.type?k="nocontent":304===t?k="notmodified":(k=b.state,h=b.data,y=b.error,c=!y)):(y=k,(t||!k)&&(k="error",0>t&&(t=0))),C.status=t,C.statusText=(n||k)+"",c?g.resolveWith(d,[h,k,C]):g.rejectWith(d,[C,k,y]),C.statusCode(v),v=e,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?h:y]),m.fireWith(d,[C,k]),u&&(f.trigger("ajaxComplete",[C,p]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var i,o,s,a,l,c,u,h,p=se.ajaxSetup({},n),d=p.context||p,f=p.context&&(d.nodeType||d.jquery)?se(d):se.event,g=se.Deferred(),m=se.Callbacks("once memory"),v=p.statusCode||{},y={},b={},w=0,x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!a)for(a={};e=dn.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||x;return i&&i.abort(e),r(0,e),this}};if(g.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,p.url=((t||p.url||ln)+"").replace(hn,"").replace(mn,an[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=se.trim(p.dataType||"*").toLowerCase().match(le)||[""],null==p.crossDomain&&(c=vn.exec(p.url.toLowerCase()),p.crossDomain=!(!c||c[1]===an[1]&&c[2]===an[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(an[3]||("http:"===an[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=se.param(p.data,p.traditional)),A(bn,p,n,C),2===w)return C;u=p.global,u&&0===se.active++&&se.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!gn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(un.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=pn.test(o)?o.replace(pn,"$1_="+cn++):o+(un.test(o)?"&":"?")+"_="+cn++)),p.ifModified&&(se.lastModified[o]&&C.setRequestHeader("If-Modified-Since",se.lastModified[o]),se.etag[o]&&C.setRequestHeader("If-None-Match",se.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+xn+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)C.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(d,C,p)===!1||2===w))return C.abort();x="abort";for(h in{success:1,error:1,complete:1})C[h](p[h]);if(i=A(wn,p,n,C)){C.readyState=1,u&&f.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){C.abort("timeout")},p.timeout));try{w=1,i.send(y,r)}catch(k){if(!(2>w))throw k;r(-1,k)}}else r(-1,"No Transport");return C},getJSON:function(t,e,n){return se.get(t,e,n,"json")},getScript:function(t,n){return se.get(t,e,n,"script")}}),se.each(["get","post"],function(t,n){se[n]=function(t,r,i,o){return se.isFunction(r)&&(o=o||i,i=r,r=e),se.ajax({url:t,type:n,dataType:o,data:r,success:i})}}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return se.globalEval(t),t}}}),se.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),se.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=se("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),W.head.appendChild(e[0])},abort:function(){n&&n()}}}});var kn=[],Tn=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=kn.pop()||se.expando+"_"+cn++;return this[t]=!0,t}}),se.ajaxPrefilter("json jsonp",function(n,r,i){var o,s,a,l=n.jsonp!==!1&&(Tn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Tn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=se.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Tn,"$1"+o):n.jsonp!==!1&&(n.url+=(un.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||se.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=t[o],t[o]=function(){a=arguments},i.always(function(){t[o]=s,n[o]&&(n.jsonpCallback=r.jsonpCallback,kn.push(o)),a&&se.isFunction(s)&&s(a[0]),a=s=e}),"script"):void 0}),se.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var jn=se.ajaxSettings.xhr(),Sn={0:200,1223:204},$n=0,Dn={};t.ActiveXObject&&se(t).on("unload",function(){for(var t in Dn)Dn[t]();Dn=e}),se.support.cors=!!jn&&"withCredentials"in jn,se.support.ajax=jn=!!jn,se.ajaxTransport(function(t){var n;return se.support.cors||jn&&!t.crossDomain?{send:function(r,i){var o,s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);n=function(t){return function(){n&&(delete Dn[s],n=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?i(a.status||404,a.statusText):i(Sn[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:e,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=Dn[s=$n++]=n("abort"),a.send(t.hasContent&&t.data||null)},abort:function(){n&&n()}}:void 0});var En,An,On=/^(?:toggle|show|hide)$/,qn=new RegExp("^(?:([+-])=|)("+ae+")([a-z%]*)$","i"),_n=/queueHooks$/,Nn=[B],Rn={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=qn.exec(e),o=i&&i[3]||(se.cssNumber[t]?"":"px"),s=(se.cssNumber[t]||"px"!==o&&+r)&&qn.exec(se.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,se.style(n.elem,t,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--l)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};se.Animation=se.extend(L,{tweener:function(t,e){se.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],Rn[n]=Rn[n]||[],Rn[n].unshift(e)},prefilter:function(t,e){e?Nn.unshift(t):Nn.push(t)}}),se.Tween=I,I.prototype={constructor:I,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(se.cssNumber[n]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return t&&t.get?t.get(this):I.propHooks._default.get(this)},run:function(t){var e,n=I.propHooks[this.prop];return this.pos=e=this.options.duration?se.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=se.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){se.fx.step[t.prop]?se.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[se.cssProps[t.prop]]||se.cssHooks[t.prop])?se.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},se.each(["toggle","show","hide"],function(t,e){var n=se.fn[e];se.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(F(e,!0),t,r,i)}}),se.fn.extend({fadeTo:function(t,e,n,r){return this.filter(w).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=se.isEmptyObject(t),o=se.speed(e,n,r),s=function(){var e=L(this,se.extend({},t),o);(i||ve.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,n,r){var i=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=se.timers,s=ve.get(this);if(n)s[n]&&s[n].stop&&i(s[n]);else for(n in s)s[n]&&s[n].stop&&_n.test(n)&&i(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(r),e=!1,o.splice(n,1));(e||!r)&&se.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ve.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=se.timers,s=r?r.length:0;for(n.finish=!0,se.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),se.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){se.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),se.speed=function(t,e,n){var r=t&&"object"==typeof t?se.extend({},t):{complete:n||!n&&e||se.isFunction(t)&&t,duration:t,easing:n&&e||e&&!se.isFunction(e)&&e};return r.duration=se.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in se.fx.speeds?se.fx.speeds[r.duration]:se.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){se.isFunction(r.old)&&r.old.call(this),r.queue&&se.dequeue(this,r.queue)},r},se.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},se.timers=[],se.fx=I.prototype.init,se.fx.tick=function(){var t,n=se.timers,r=0;for(En=se.now();r<n.length;r++)t=n[r],t()||n[r]!==t||n.splice(r--,1);n.length||se.fx.stop(),En=e},se.fx.timer=function(t){t()&&se.timers.push(t)&&se.fx.start()},se.fx.interval=13,se.fx.start=function(){An||(An=setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){clearInterval(An),An=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fx.step={},se.expr&&se.expr.filters&&(se.expr.filters.animated=function(t){return se.grep(se.timers,function(e){return t===e.elem}).length}),se.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){se.offset.setOffset(this,t,e)});var n,r,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;if(s)return n=s.documentElement,se.contains(n,i)?(typeof i.getBoundingClientRect!==z&&(o=i.getBoundingClientRect()),r=P(s),{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):o},se.offset={setOffset:function(t,e,n){var r,i,o,s,a,l,c,u=se.css(t,"position"),h=se(t),p={};"static"===u&&(t.style.position="relative"),a=h.offset(),o=se.css(t,"top"),l=se.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(r=h.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),se.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+i),"using"in e?e.using.call(t,p):h.css(p)
}},se.fn.extend({position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===se.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),se.nodeName(t[0],"html")||(r=t.offset()),r.top+=se.css(t[0],"borderTopWidth",!0),r.left+=se.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-se.css(n,"marginTop",!0),left:e.left-r.left-se.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||J;t&&!se.nodeName(t,"html")&&"static"===se.css(t,"position");)t=t.offsetParent;return t||J})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var i="pageYOffset"===r;se.fn[n]=function(o){return se.access(this,function(n,o,s){var a=P(n);return s===e?a?a[r]:n[o]:(a?a.scrollTo(i?t.pageXOffset:s,i?s:t.pageYOffset):n[o]=s,void 0)},n,o,arguments.length,null)}}),se.each({Height:"height",Width:"width"},function(t,n){se.each({padding:"inner"+t,content:n,"":"outer"+t},function(r,i){se.fn[i]=function(i,o){var s=arguments.length&&(r||"boolean"!=typeof i),a=r||(i===!0||o===!0?"margin":"border");return se.access(this,function(n,r,i){var o;return se.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):i===e?se.css(n,r,a):se.style(n,r,i,a)},n,s?i:e,s,null)}})}),se.fn.size=function(){return this.length},se.fn.andSelf=se.fn.addBack,"object"==typeof n&&n&&"object"==typeof n.exports?n.exports=se:"function"==typeof define&&define.amd&&define("jquery",[],function(){return se}),"object"==typeof t&&"object"==typeof t.document&&(t.jQuery=t.$=se)}(window),n.exports=window.jQuery},"spine/index":function(t,e,n){n.exports=e("./lib/spine")},"spine/lib/spine":function(t,e,n){(function(){var t,e,r,i,o,s,a,l,c,u,h,p,d=[].slice,f=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},g={}.hasOwnProperty,m=function(t,e){function n(){this.constructor=t}for(var r in e)g.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v=function(t,e){return function(){return t.apply(e,arguments)}};r={bind:function(t,e){var n,r,i,o,s;for(n=t.split(" "),this.hasOwnProperty("_callbacks")&&this._callbacks||(this._callbacks={}),o=0,s=n.length;s>o;o++)r=n[o],(i=this._callbacks)[r]||(i[r]=[]),this._callbacks[r].push(e);return this},one:function(t,e){var n;return this.bind(t,n=function(){return this.unbind(t,n),e.apply(this,arguments)})},trigger:function(){var t,e,n,r,i,o,s;if(t=1<=arguments.length?d.call(arguments,0):[],n=t.shift(),r=this.hasOwnProperty("_callbacks")&&(null!=(s=this._callbacks)?s[n]:void 0)){for(i=0,o=r.length;o>i&&(e=r[i],e.apply(this,t)!==!1);i++);return!0}},listenTo:function(t,e,n){return t.bind(e,n),this.listeningTo||(this.listeningTo=[]),this.listeningTo.push({obj:t,ev:e,callback:n}),this},listenToOnce:function(t,e,n){var r,i;return i=this.listeningToOnce||(this.listeningToOnce=[]),t.bind(e,r=function(){var o,s,a,l,c;for(s=-1,o=l=0,c=i.length;c>l;o=++l)a=i[o],a.obj===t&&a.ev===e&&a.callback===n&&(s=o);return t.unbind(e,r),-1!==s&&i.splice(s,1),n.apply(this,arguments)}),i.push({obj:t,ev:e,callback:n,handler:r}),this},stopListening:function(e,n,r){var i,o,s,a,l,c,u,h,p,d,g,m,v,y,b;if(0===arguments.length){for(v=[this.listeningTo,this.listeningToOnce],u=0,d=v.length;d>u;u++)if(l=v[u])for(h=0,g=l.length;g>h;h++)c=l[h],c.obj.unbind(c.ev,c.handler||c.callback);return this.listeningTo=void 0,this.listeningToOnce=void 0}if(e){for(y=[this.listeningTo,this.listeningToOnce],b=[],p=0,m=y.length;m>p;p++)l=y[p],l&&(n=n?n.split(" "):[void 0],b.push(function(){var e,u,h;for(h=[],e=0,u=n.length;u>e;e++)o=n[e],h.push(function(){var e,n,u;for(u=[],a=e=n=l.length-1;0>=n?0>=e:e>=0;a=0>=n?++e:--e)c=l[a],r&&(c.handler||c.callback)!==r||(o&&o!==c.ev?o?(s=c.ev.split(" "),f.call(s,o)>=0?(s=function(){var t,e,n;for(n=[],e=0,t=s.length;t>e;e++)i=s[e],i!==o&&n.push(i);return n}(),c.ev=t.trim(s.join(" ")),u.push(c.obj.unbind(o,c.handler||c.callback))):u.push(void 0)):u.push(void 0):(c.obj.unbind(c.ev,c.handler||c.callback),-1!==a?u.push(l.splice(a,1)):u.push(void 0)));return u}());return h}()));return b}},unbind:function(t,e){var n,r,i,o,s,a,l,c,u,h;if(0===arguments.length)return this._callbacks={},this;if(!t)return this;for(r=t.split(" "),a=0,c=r.length;c>a;a++)if(s=r[a],o=null!=(h=this._callbacks)?h[s]:void 0)if(e){for(i=l=0,u=o.length;u>l;i=++l)if(n=o[i],n===e){o=o.slice(),o.splice(i,1),this._callbacks[s]=o;break}}else delete this._callbacks[s];return this}},r.on=r.bind,r.off=r.unbind,i={trace:!0,logPrefix:"(App)",log:function(){var t;return t=1<=arguments.length?d.call(arguments,0):[],this.trace?(this.logPrefix&&t.unshift(this.logPrefix),"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,t),this):void 0}},p=["included","extended"],s=function(){function t(){"function"==typeof this.init&&this.init.apply(this,arguments)}return t.include=function(t){var e,n,r;if(!t)throw new Error("include(obj) requires obj");for(e in t)n=t[e],f.call(p,e)<0&&(this.prototype[e]=n);return null!=(r=t.included)&&r.apply(this),this},t.extend=function(t){var e,n,r;if(!t)throw new Error("extend(obj) requires obj");for(e in t)n=t[e],f.call(p,e)<0&&(this[e]=n);return null!=(r=t.extended)&&r.apply(this),this},t.proxy=function(t){return function(e){return function(){return t.apply(e,arguments)}}(this)},t.prototype.proxy=function(t){return function(e){return function(){return t.apply(e,arguments)}}(this)},t}(),o=function(e){function n(t){n.__super__.constructor.apply(this,arguments),null!=this.constructor.uuid&&"function"==typeof this.constructor.uuid?(this.cid=this.constructor.uuid(),this.id||(this.id=this.cid)):this.cid=(null!=t?t.cid:void 0)||this.constructor.uid("c-"),t&&this.load(t)}return m(n,e),n.extend(r),n.records=[],n.irecords={},n.attributes=[],n.configure=function(){var t,e;return e=arguments[0],t=2<=arguments.length?d.call(arguments,1):[],this.className=e,this.deleteAll(),t.length&&(this.attributes=t),this.attributes&&(this.attributes=h(this.attributes)),this.attributes||(this.attributes=[]),this.unbind(),this},n.toString=function(){return""+this.className+"("+this.attributes.join(", ")+")"},n.find=function(t,e){var n,r;return null==e&&(e=this.notFound),n=null!=(r=this.irecords[t])?r.clone():void 0,n||("function"==typeof e?e(t):void 0)},n.notFound=function(){return null},n.exists=function(t){return this.irecords[t]?!0:!1},n.addRecord=function(t){return t.id&&this.irecords[t.id]&&this.irecords[t.id].remove(),t.id||(t.id=t.cid),this.records.push(t),this.irecords[t.id]=t,this.irecords[t.cid]=t},n.refresh=function(t,e){var n,r,i,o,s;for(null==e&&(e={}),e.clear&&this.deleteAll(),r=this.fromJSON(t),c(r)||(r=[r]),o=0,s=r.length;s>o;o++)n=r[o],this.addRecord(n);return this.sort(),i=this.cloneArray(r),this.trigger("refresh",i,e),i},n.select=function(t){var e,n,r,i,o;for(i=this.records,o=[],n=0,r=i.length;r>n;n++)e=i[n],t(e)&&o.push(e.clone());return o},n.findByAttribute=function(t,e){var n,r,i,o;for(o=this.records,r=0,i=o.length;i>r;r++)if(n=o[r],n[t]===e)return n.clone();return null},n.findAllByAttribute=function(t,e){return this.select(function(n){return n[t]===e})},n.each=function(t){var e,n,r,i,o;for(i=this.records,o=[],n=0,r=i.length;r>n;n++)e=i[n],o.push(t(e.clone()));return o},n.all=function(){return this.cloneArray(this.records)},n.slice=function(t,e){return null==t&&(t=0),this.cloneArray(this.records.slice(t,e))},n.first=function(t){var e;return null==t&&(t=1),t>1?this.cloneArray(this.records.slice(0,t)):null!=(e=this.records[0])?e.clone():void 0},n.last=function(t){var e;return"number"==typeof t?this.cloneArray(this.records.slice(-t)):null!=(e=this.records[this.records.length-1])?e.clone():void 0},n.count=function(){return this.records.length},n.deleteAll=function(){return this.records=[],this.irecords={}},n.destroyAll=function(t){var e,n,r,i,o;for(i=this.records,o=[],n=0,r=i.length;r>n;n++)e=i[n],o.push(e.destroy(t));return o},n.update=function(t,e,n){return this.find(t).updateAttributes(e,n)},n.create=function(t,e){var n;return n=new this(t),n.save(e)},n.destroy=function(t,e){return this.find(t).destroy(e)},n.change=function(t){return"function"==typeof t?this.bind("change",t):this.trigger.apply(this,["change"].concat(d.call(arguments)))},n.fetch=function(t){return"function"==typeof t?this.bind("fetch",t):this.trigger.apply(this,["fetch"].concat(d.call(arguments)))},n.toJSON=function(){return this.records},n.fromJSON=function(t){var e,n,r,i;if(t){if("string"==typeof t&&(t=JSON.parse(t)),c(t)){for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(new this(e));return i}return new this(t)}},n.fromForm=function(){var t;return(t=new this).fromForm.apply(t,arguments)},n.sort=function(){return this.comparator&&this.records.sort(this.comparator),this},n.cloneArray=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(e.clone());return i},n.idCounter=0,n.uid=function(t){var e;return null==t&&(t=""),e=t+this.idCounter++,this.exists(e)&&(e=this.uid(t)),e},n.prototype.isNew=function(){return!this.exists()},n.prototype.isValid=function(){return!this.validate()},n.prototype.validate=function(){},n.prototype.load=function(t){var e,n;t.id&&(this.id=t.id);for(e in t)n=t[e],t.hasOwnProperty(e)&&"function"==typeof this[e]?this[e](n):this[e]=n;return this},n.prototype.attributes=function(){var t,e,n,r,i;for(e={},i=this.constructor.attributes,n=0,r=i.length;r>n;n++)t=i[n],t in this&&(e[t]="function"==typeof this[t]?this[t]():this[t]);return this.id&&(e.id=this.id),e},n.prototype.eql=function(t){return!(!t||t.constructor!==this.constructor||!(t.cid===this.cid||t.id&&t.id===this.id))},n.prototype.save=function(t){var e,n;return null==t&&(t={}),t.validate!==!1&&(e=this.validate())?(this.trigger("error",e),!1):(this.trigger("beforeSave",t),n=this.isNew()?this.create(t):this.update(t),this.stripCloneAttrs(),this.trigger("save",t),n)},n.prototype.stripCloneAttrs=function(){var t,e;if(!this.hasOwnProperty("cid")){for(t in this)g.call(this,t)&&(e=this[t],f.call(this.constructor.attributes,t)>=0&&delete this[t]);return this}},n.prototype.updateAttribute=function(t,e,n){var r;return r={},r[t]=e,this.updateAttributes(r,n)},n.prototype.updateAttributes=function(t,e){return this.load(t),this.save(e)},n.prototype.changeID=function(t){var e;if(t!==this.id)return e=this.constructor.irecords,e[t]=e[this.id],this.cid!==this.id&&delete e[this.id],this.id=t,this.save()},n.prototype.remove=function(){var t,e,n,r,i;for(n=this.constructor.records.slice(0),t=r=0,i=n.length;i>r;t=++r)if(e=n[t],this.eql(e)){n.splice(t,1);break}return this.constructor.records=n,delete this.constructor.irecords[this.id],delete this.constructor.irecords[this.cid]},n.prototype.destroy=function(t){return null==t&&(t={}),this.trigger("beforeDestroy",t),this.remove(),this.destroyed=!0,this.trigger("destroy",t),this.trigger("change","destroy",t),this.listeningTo&&this.stopListening(),this.unbind(),this},n.prototype.dup=function(t){var e;return null==t&&(t=!0),e=this.attributes(),t?delete e.id:e.cid=this.cid,new this.constructor(e)},n.prototype.clone=function(){return l(this)},n.prototype.reload=function(){var t;return this.isNew()?this:(t=this.constructor.find(this.id),this.load(t.attributes()),t)},n.prototype.refresh=function(t){var e;return e=this.constructor.irecords[this.id],e.load(t),this.trigger("refresh"),this},n.prototype.toJSON=function(){return this.attributes()},n.prototype.toString=function(){return"<"+this.constructor.className+" ("+JSON.stringify(this)+")>"},n.prototype.fromForm=function(e){var n,r,i,o,s,a,l,c,u,h,p,d,f,g;for(o={},d=t(e).find("[type=checkbox]:not([value])"),s=0,c=d.length;c>s;s++)n=d[s],o[n.name]=t(n).prop("checked");for(f=t(e).find('[type=checkbox][name$="[]"]'),a=0,u=f.length;u>a;a++)n=f[a],i=n.name.replace(/\[\]$/,""),o[i]||(o[i]=[]),t(n).prop("checked")&&o[i].push(n.value);for(g=t(e).serializeArray(),l=0,h=g.length;h>l;l++)r=g[l],o[p=r.name]||(o[p]=r.value);return this.load(o)},n.prototype.exists=function(){return this.constructor.exists(this.id)},n.prototype.update=function(t){var e,n;return this.trigger("beforeUpdate",t),n=this.constructor.irecords,n[this.id].load(this.attributes()),this.constructor.sort(),e=n[this.id].clone(),e.trigger("update",t),e.trigger("change","update",t),e},n.prototype.create=function(t){var e,n;return this.trigger("beforeCreate",t),this.id||(this.id=this.cid),n=this.dup(!1),this.constructor.addRecord(n),this.constructor.sort(),e=n.clone(),e.trigger("create",t),e.trigger("change","create",t),e},n.prototype.bind=function(t,e){var n,r,i,o,s,a;for(this.constructor.bind(t,n=function(t){return function(n){return n&&t.eql(n)?e.apply(t,arguments):void 0}}(this)),a=t.split(" "),i=function(t){return function(r){var i;return t.constructor.bind("unbind",i=function(o,s,a){if(o&&t.eql(o)){if(s&&s!==r)return;if(a&&a!==e)return;return t.constructor.unbind(r,n),t.constructor.unbind("unbind",i)}})}}(this),o=0,s=a.length;s>o;o++)r=a[o],i(r);return this},n.prototype.one=function(t,e){var n;return this.bind(t,n=function(r){return function(){return r.unbind(t,n),e.apply(r,arguments)}}(this))},n.prototype.trigger=function(){var t,e;return t=1<=arguments.length?d.call(arguments,0):[],t.splice(1,0,this),(e=this.constructor).trigger.apply(e,t)},n.prototype.listenTo=function(){return r.listenTo.apply(this,arguments)},n.prototype.listenToOnce=function(){return r.listenToOnce.apply(this,arguments)},n.prototype.stopListening=function(){return r.stopListening.apply(this,arguments)},n.prototype.unbind=function(t,e){var n,r,i,o,s;if(0===arguments.length)return this.trigger("unbind");if(t){for(o=t.split(" "),s=[],r=0,i=o.length;i>r;r++)n=o[r],s.push(this.trigger("unbind",n,e));return s}},n}(s),o.prototype.on=o.prototype.bind,o.prototype.off=o.prototype.unbind,e=function(e){function n(e){this.release=v(this.release,this);var r,i,o,s,a;this.options=e,a=this.options;for(i in a)s=a[i],this[i]=s;for(this.el||(this.el=document.createElement(this.tag)),this.el=t(this.el),this.$el=this.el,this.className&&this.el.addClass(this.className),this.attributes&&this.el.attr(this.attributes),this.events||(this.events=this.constructor.events),this.elements||(this.elements=this.constructor.elements),r=this;o=r.constructor.__super__;)o.events&&(this.events=t.extend({},o.events,this.events)),o.elements&&(this.elements=t.extend({},o.elements,this.elements)),r=o;this.events&&this.delegateEvents(this.events),this.elements&&this.refreshElements(),n.__super__.constructor.apply(this,arguments)}return m(n,e),n.include(r),n.include(i),n.prototype.eventSplitter=/^(\S+)\s*(.*)$/,n.prototype.tag="div",n.prototype.release=function(){return this.trigger("release",this),this.el.remove(),this.unbind(),this.stopListening()},n.prototype.$=function(e){return t(e,this.el)},n.prototype.delegateEvents=function(t){var e,n,r,i,o,s;s=[];for(n in t){if(i=t[n],"function"==typeof i)i=function(t){return function(e){return function(){return e.apply(t,arguments),!0}}}(this)(i);else{if(!this[i])throw new Error(""+i+" doesn't exist");i=function(t){return function(e){return function(){return t[e].apply(t,arguments),!0}}}(this)(i)}r=n.match(this.eventSplitter),e=r[1],o=r[2],""===o?s.push(this.el.bind(e,i)):s.push(this.el.on(e,o,i))}return s},n.prototype.refreshElements=function(){var t,e,n,r;n=this.elements,r=[];for(t in n)e=n[t],r.push(this[e]=this.$(t));return r},n.prototype.delay=function(t,e){return setTimeout(this.proxy(t),e||0)},n.prototype.html=function(t){return this.el.html(t.el||t),this.refreshElements(),this.el},n.prototype.append=function(){var t,e,n;return e=1<=arguments.length?d.call(arguments,0):[],e=function(){var n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(t.el||t);return i}(),(n=this.el).append.apply(n,e),this.refreshElements(),this.el},n.prototype.appendTo=function(t){return this.el.appendTo(t.el||t),this.refreshElements(),this.el},n.prototype.prepend=function(){var t,e,n;return e=1<=arguments.length?d.call(arguments,0):[],e=function(){var n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(t.el||t);return i}(),(n=this.el).prepend.apply(n,e),this.refreshElements(),this.el},n.prototype.replace=function(e){var n,r,i;return e=e.el||e,"string"==typeof e&&(e=t.trim(e)),i=[this.el,t((null!=(r=t.parseHTML(e))?r[0]:void 0)||e)],n=i[0],this.el=i[1],n.replaceWith(this.el),this.delegateEvents(this.events),this.refreshElements(),this.el},n}(s),t=("undefined"!=typeof window&&null!==window?window.jQuery:void 0)||("undefined"!=typeof window&&null!==window?window.Zepto:void 0)||function(t){return t},l=Object.create||function(t){var e;return e=function(){},e.prototype=t,new e},c=function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=function(t){var e;if(!t)return!0;for(e in t)return!1;return!0},h=function(t){return Array.prototype.slice.call(t,0)},a=this.Spine={},"undefined"!=typeof n&&null!==n&&(n.exports=a),a.version="1.3.0",a.isArray=c,a.isBlank=u,a.$=t,a.Events=r,a.Log=i,a.Module=s,a.Controller=e,a.Model=o,s.extend.call(a,r),s.create=s.sub=e.create=e.sub=o.sub=function(t,e){var n;return n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e}(this),t&&n.include(t),e&&n.extend(e),"function"==typeof n.unbind&&n.unbind(),n},o.setup=function(t,e){var n;return null==e&&(e=[]),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e}(this),n.configure.apply(n,[t].concat(d.call(e))),n},a.Class=s}).call(this)},"spine/lib/ajax":function(t,e,n){(function(){var t,r,i,o,s,a,l,c,u,h,p,d=[].slice,f=function(t,e){return function(){return t.apply(e,arguments)}},g={}.hasOwnProperty,m=function(t,e){function n(){this.constructor=t}for(var r in e)g.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};p=this.Spine||e("spine"),t=p.$,c=p.Model,u=t({}),r={getURL:function(t){return null!=t.className?this.generateURL(t):this.generateURL(t,encodeURIComponent(t.id))},getCollectionURL:function(t){return this.generateURL(t)},getScope:function(t){return("function"==typeof t.scope?t.scope():void 0)||t.scope},getCollection:function(t){return t.url!==t.generateURL?"function"==typeof t.url?t.url():t.url:null!=t.className?t.className.toLowerCase()+"s":void 0},generateURL:function(){var t,e,n,i,o;return n=arguments[0],t=2<=arguments.length?d.call(arguments,1):[],e=r.getCollection(n)||r.getCollection(n.constructor),o=r.getScope(n)||r.getScope(n.constructor),t.unshift(e),t.unshift(o),i=t.join("/"),i=i.replace(/(\/\/)/g,"/"),i=i.replace(/^\/|\/$/g,""),0!==i.indexOf("../")?c.host+"/"+i:i},enabled:!0,disable:function(t){var e;if(!this.enabled)return t();this.enabled=!1;try{return t()}catch(n){throw e=n}finally{this.enabled=!0}},queue:function(t){return t?u.queue(t):u.queue()},clearQueue:function(){return this.queue([])}},i=function(){function e(){}return e.prototype.defaults={dataType:"json",processData:!1,headers:{"X-Requested-With":"XMLHttpRequest"}},e.prototype.queue=r.queue,e.prototype.ajax=function(e,n){return t.ajax(this.ajaxSettings(e,n))},e.prototype.ajaxQueue=function(e,n,i){var o,s,a,l,c,h;return s=null,o=t.Deferred(),l=o.promise(),r.enabled?(h=this.ajaxSettings(e,n),a=void 0!==h.parallel?h.parallel:"GET"===h.type,c=function(e){var n;return null!=(null!=i?i.id:void 0)&&(null==h.url&&(h.url=r.getURL(i)),null!=(n=h.data)&&(n.id=i.id)),"string"!=typeof h.data&&h.processData!==!0&&(h.data=JSON.stringify(h.data)),s=t.ajax(h).done(o.resolve).fail(o.reject).then(e,e),a?u.dequeue():void 0},l.abort=function(e){var n;return s?s.abort(e):(n=t.inArray(c,this.queue()),n>-1&&this.queue().splice(n,1),o.rejectWith(h.context||h,[l,e,""]),l)},this.queue(c),l):l},e.prototype.ajaxSettings=function(e,n){return t.extend({},this.defaults,n,e)},e}(),o=function(t){function e(t){this.model=t,this.failResponse=f(this.failResponse,this),this.recordsResponse=f(this.recordsResponse,this)}return m(e,t),e.prototype.find=function(t,e,n){var i;return null==n&&(n={}),i=new this.model({id:t}),this.ajaxQueue(e,{type:"GET",url:n.url||r.getURL(i),parallel:n.parallel}).done(this.recordsResponse).fail(this.failResponse)},e.prototype.all=function(t,e){return null==e&&(e={}),this.ajaxQueue(t,{type:"GET",url:e.url||r.getURL(this.model),parallel:e.parallel}).done(this.recordsResponse).fail(this.failResponse)},e.prototype.fetch=function(t,e){var n;return null==t&&(t={}),null==e&&(e={}),(n=t.id)?(delete t.id,this.find(n,t,e).done(function(t){return function(n){return t.model.refresh(n,e)}}(this))):this.all(t,e).done(function(t){return function(n){return t.model.refresh(n,e)}}(this))},e.prototype.recordsResponse=function(t,e,n){return this.model.trigger("ajaxSuccess",null,e,n)},e.prototype.failResponse=function(t,e,n){return this.model.trigger("ajaxError",null,t,e,n)},e}(i),h=function(t){function e(t){this.record=t,this.failResponse=f(this.failResponse,this),this.recordResponse=f(this.recordResponse,this),this.model=this.record.constructor}return m(e,t),e.prototype.reload=function(t,e){return null==e&&(e={}),this.ajaxQueue(t,{type:"GET",url:e.url,parallel:e.parallel},this.record).done(this.recordResponse(e)).fail(this.failResponse(e))},e.prototype.create=function(t,e){return null==e&&(e={}),this.ajaxQueue(t,{type:"POST",contentType:"application/json",data:this.record.toJSON(),url:e.url||r.getCollectionURL(this.record),parallel:e.parallel}).done(this.recordResponse(e)).fail(this.failResponse(e))},e.prototype.update=function(t,e){return null==e&&(e={}),this.ajaxQueue(t,{type:"PUT",contentType:"application/json",data:this.record.toJSON(),url:e.url,parallel:e.parallel},this.record).done(this.recordResponse(e)).fail(this.failResponse(e))},e.prototype.destroy=function(t,e){return null==e&&(e={}),this.ajaxQueue(t,{type:"DELETE",url:e.url,parallel:e.parallel},this.record).done(this.recordResponse(e)).fail(this.failResponse(e))},e.prototype.recordResponse=function(t){return null==t&&(t={}),function(e){return function(n,i,o){var s;return r.disable(function(){return p.isBlank(n)||e.record.destroyed?void 0:(n.id&&e.record.id!==n.id&&e.record.changeID(n.id),e.record.refresh(n))}),e.record.trigger("ajaxSuccess",n,i,o),null!=(s=t.done)?s.apply(e.record):void 0}}(this)},e.prototype.failResponse=function(t){return null==t&&(t={}),function(e){return function(n,r,i){var o;return e.record.trigger("ajaxError",n,r,i),null!=(o=t.fail)?o.apply(e.record):void 0}}(this)},e}(i),c.host="",a={include:function(){var t;return t=1<=arguments.length?d.call(arguments,0):[],t.unshift(encodeURIComponent(this.id)),r.generateURL.apply(r,[this].concat(d.call(t)))},extend:function(){var t;return t=1<=arguments.length?d.call(arguments,0):[],r.generateURL.apply(r,[this].concat(d.call(t)))}},l={ajax:function(){return new h(this)},generateURL:a.include,url:a.include},s={ajax:function(){return new o(this)},generateURL:a.extend,url:a.extend},c.Ajax={extended:function(){return this.fetch(this.ajaxFetch),this.change(this.ajaxChange),this.extend(s),this.include(l)},ajaxFetch:function(){var t;return(t=this.ajax()).fetch.apply(t,arguments)},ajaxChange:function(t,e,n){return null==n&&(n={}),n.ajax!==!1?t.ajax()[e](n.ajax,n):void 0}},c.Ajax.Methods={extended:function(){return this.extend(s),this.include(l)}},r.defaults=i.prototype.defaults,r.Base=i,r.Singleton=h,r.Collection=o,p.Ajax=r,"undefined"!=typeof n&&null!==n&&(n.exports=r)}).call(this)},"spine/lib/local":function(t,e,n){(function(){var t;t=this.Spine||e("spine"),t.Model.Local={extended:function(){return this.change(this.saveLocal),this.fetch(this.loadLocal)},saveLocal:function(){var t;return t=JSON.stringify(this),localStorage[this.className]=t},loadLocal:function(t){var e;return null==t&&(t={}),t.hasOwnProperty("clear")||(t.clear=!0),e=localStorage[this.className],this.refresh(e||[],t)}},"undefined"!=typeof n&&null!==n&&(n.exports=t.Model.Local)}).call(this)},"spine/lib/route":function(t,e,n){(function(){var t,r,i,o,s,a,l={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u=[].slice;r=this.Spine||e("spine"),t=r.$,o=/^#*/,s=/:([\w\d]+)/g,a=/\*([\w\d]+)/g,i=/[-[\]{}()+?.,\\^$|#\s]/g,r.Route=function(e){function n(t,e){var n;if(this.path=t,this.callback=e,this.names=[],"string"==typeof t){for(s.lastIndex=0;null!==(n=s.exec(t));)this.names.push(n[1]);for(a.lastIndex=0;null!==(n=a.exec(t));)this.names.push(n[1]);t=t.replace(i,"\\$&").replace(s,"([^/]*)").replace(a,"(.*?)"),this.route=new RegExp("^"+t+"$")}else this.route=t}var l;return c(n,e),n.extend(r.Events),n.historySupport=null!=(null!=(l=window.history)?l.pushState:void 0),n.routes=[],n.options={trigger:!0,history:!1,shim:!1,replace:!1,redirect:!1},n.add=function(t,e){var n,r,i;if("object"!=typeof t||t instanceof RegExp)return this.routes.push(new this(t,e));i=[];for(n in t)r=t[n],i.push(this.add(n,r));return i},n.setup=function(e){return null==e&&(e={}),this.options=t.extend({},this.options,e),this.options.history&&(this.history=this.historySupport&&this.options.history),this.options.shim?void 0:(this.history?t(window).bind("popstate",this.change):t(window).bind("hashchange",this.change),this.change())},n.unbind=function(){return this.options.shim?void 0:this.history?t(window).unbind("popstate",this.change):t(window).unbind("hashchange",this.change)},n.navigate=function(){var e,n,r,i,o;if(e=1<=arguments.length?u.call(arguments,0):[],r={},n=e[e.length-1],"object"==typeof n?r=e.pop():"boolean"==typeof n&&(r.trigger=e.pop()),r=t.extend({},this.options,r),i=e.join("/"),this.path!==i&&(this.path=i,this.trigger("navigate",this.path),r.trigger&&(o=this.matchRoute(this.path,r)),!r.shim)){if(!o){if("function"==typeof r.redirect)return r.redirect.apply(this,[this.path,r]);r.redirect===!0&&this.redirect(this.path)}return this.history&&r.replace?history.replaceState({},document.title,this.path):this.history?history.pushState({},document.title,this.path):window.location.hash=this.path}},n.getPath=function(){var t;return this.history?(t=window.location.pathname,"/"!==t.substr(0,1)&&(t="/"+t)):(t=window.location.hash,t=t.replace(o,"")),t},n.getHost=function(){return""+window.location.protocol+"//"+window.location.host},n.change=function(){var t;return t=this.getPath(),t!==this.path?(this.path=t,this.matchRoute(this.path)):void 0},n.matchRoute=function(t,e){var n,r,i,o;for(o=this.routes,r=0,i=o.length;i>r;r++)if(n=o[r],n.match(t,e))return this.trigger("change",n,t),n},n.redirect=function(t){return window.location=t},n.prototype.match=function(t,e){var n,r,i,o,s,a;if(null==e&&(e={}),r=this.route.exec(t),!r)return!1;if(e.match=r,o=r.slice(1),this.names.length)for(n=s=0,a=o.length;a>s;n=++s)i=o[n],e[this.names[n]]=i;return this.constructor.trigger("before",this),this.callback.call(null,e)!==!1},n}(r.Module),r.Route.change=r.Route.proxy(r.Route.change),r.Controller.include({route:function(t,e){return r.Route.add(t,this.proxy(e))},routes:function(t){var e,n,r;r=[];for(e in t)n=t[e],r.push(this.route(e,n));return r},navigate:function(){return r.Route.navigate.apply(r.Route,arguments)}}),"undefined"!=typeof n&&null!==n&&(n.exports=r.Route)}).call(this)},"spine/lib/manager":function(t,e,n){(function(){var t,r,i={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s=[].slice;r=this.Spine||e("spine"),t=r.$,r.Manager=function(t){function e(){this.controllers=[],this.bind("change",this.change),this.add.apply(this,arguments)}return o(e,t),e.include(r.Events),e.prototype.add=function(){var t,e,n,r,i;for(e=1<=arguments.length?s.call(arguments,0):[],i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(this.addOne(t));return i},e.prototype.addOne=function(t){return t.bind("active",function(e){return function(){var n;return n=1<=arguments.length?s.call(arguments,0):[],e.trigger.apply(e,["change",t].concat(s.call(n)))}}(this)),t.bind("release",function(e){return function(){var n;return e.controllers=function(){var e,r,i,o;for(i=this.controllers,o=[],e=0,r=i.length;r>e;e++)n=i[e],n!==t&&o.push(n);return o}.call(e)}}(this)),this.controllers.push(t)},e.prototype.deactivate=function(){return this.trigger.apply(this,["change",!1].concat(s.call(arguments)))},e.prototype.change=function(){var t,e,n,r,i,o;for(n=arguments[0],t=2<=arguments.length?s.call(arguments,1):[],o=this.controllers,r=0,i=o.length;i>r;r++)e=o[r],e!==n&&e.deactivate.apply(e,t);return n?n.activate.apply(n,t):void 0},e}(r.Module),r.Controller.include({active:function(){var t;return t=1<=arguments.length?s.call(arguments,0):[],"function"==typeof t[0]?this.bind("active",t[0]):(t.unshift("active"),this.trigger.apply(this,t)),this},isActive:function(){return this.el.hasClass("active")},activate:function(){return this.el.addClass("active"),this},deactivate:function(){return this.el.removeClass("active"),this}}),r.Stack=function(t){function e(){var t,n,i,o,s;e.__super__.constructor.apply(this,arguments),this.manager=new r.Manager,o=this.controllers;for(t in o){if(n=o[t],null!=this[t])throw Error("'@"+t+"' already assigned - choose a different name");this[t]=new n({stack:this}),this.add(this[t])}s=this.routes,i=function(t){return function(e,n){var r;return"function"==typeof n&&(r=n),r||(r=function(){var e;return(e=t[n]).active.apply(e,arguments)}),t.route(e,r)}}(this);for(t in s)n=s[t],i(t,n);this["default"]&&this[this["default"]].active()}return o(e,t),e.prototype.controllers={},e.prototype.routes={},e.prototype.className="spine stack",e.prototype.add=function(t){return this.manager.add(t),this.append(t)},e}(r.Controller),"undefined"!=typeof n&&null!==n&&(n.exports=r.Manager),"undefined"!=typeof n&&null!==n&&(n.exports.Stack=r.Stack)}).call(this)},"controllers/base_editor":function(t,e,n){(function(){var t,r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=e("lib/utils/notify"),t=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return s(e,t),e.include(r),e.prototype.events={"submit form":"onSubmit","click .upload-picture":"uploadPic","change .scale-img":"scaleImg","click #editor img":"selectImg","dragstart #editor img":"handleDragStart","dragend #editor img":"handleDragEnd","blur #editor":"handleBlur","focus #editor":"handleFocus","click .toggle-drawing":"toggleDrawing"},e.prototype.initEditor=function(t){var e=this;return this.$editor=t,this.$editor.wysiwyg({fileUploadError:function(t,n){return e.flash(t+n)},afterUpload:function(){return $("img",e.$editor).attr("draggable",!0),$(".picture_control",e.$el).show()}}),this.$editor.on("drop",this.handleDrop),this.$editor.on("dragover",this.handleDragOver),this.$editor.keydown("ctrl+s meta+s",function(t){return t.preventDefault(),t.stopPropagation(),$(this).closest("form").submit()})},e.prototype.initDrawBoard=function(t){var e;return e={controls:["Color","Size","DrawingMode","Navigation","PasteToEditor","SwitchSize"],size:2,droppable:!0,webStorage:!1},this.draw_board=new DrawingBoard.Board(t,e)},e.prototype.toggleDrawing=function(t){return $("#drawing-panel").toggleClass("hide"),$(t.currentTarget).toggleClass("active"),this.draw_board?void 0:this.initDrawBoard("drawing-panel")},e.prototype.uploadPic=function(t){var e;return e=$(t.currentTarget).attr("id"),$("input[data-target='"+e+"']").trigger("click")},e.prototype.selectImg=function(t){var e,n,r;return e=$(t.currentTarget),e.addClass("active").siblings().removeClass("active"),r=parseFloat(e.width()/e[0].naturalWidth),n=$(".scale-img",this.$el),n.val(r).prev().find(".num").text(parseFloat(r).toFixed(2))},e.prototype.scaleImg=function(t){var e,n,r;return n=$(t.currentTarget),r=n.val(),n.prev().find(".num").text(parseFloat(r).toFixed(2)),e=$("img.active",this.$editor),e.length||(e=$("img:eq(0)",this.$editor)),e.length?e.width(e[0].naturalWidth*r):void 0
},e.prototype.handleBlur=function(t){var e;return e=this.handleFocus(t),e.removeClass("active"),this.$editor.prev().val(this.$editor.cleanHtml())},e.prototype.handleFocus=function(t){var e;return e=$(t.currentTarget).find("img"),e.length>0?$(".picture_control",this.$el).show():$(".picture_control",this.$el).hide(),e},e.prototype.handleDragStart=function(t){var e,n,r;return n=$(t.currentTarget).addClass("dragging").position(),e=t.originalEvent,r=n.left-e.clientX+","+(n.top-e.clientY),e.dataTransfer.setData("text/plain",r)},e.prototype.handleDragOver=function(t){return t.preventDefault(),!1},e.prototype.handleDragEnd=function(t){return $(t.currentTarget).removeClass("dragging")},e.prototype.handleDrop=function(t){var e,n;return t.stopPropagation(),t.preventDefault(),e=t.originalEvent,n=e.dataTransfer.getData("text/plain").split(","),$("img.dragging",this.$editor).css({left:e.clientX+parseInt(n[0],10)+"px",top:e.clientY+parseInt(n[1],10)+"px"})},e.prototype.getFormData=function(){var t;return t=this.$editor.cleanHtml(),""===t?(this.flash("正文内容不允许为空","danger"),this.$editor.focus(),!1):($(".brand").addClass("loading"),this.$editor.closest("form").serializeObject())},e.prototype.resetDoc=function(){return this.$editor.empty().focus(),this.draw_board?this.draw_board.reset({background:!0}):void 0},e.prototype.renderWithData=function(t){var e;return e=this.$editor.closest("form"),$.each($("input[name],textarea[name]",e),function(e,n){var r;return r=$(n).attr("name"),$(n).val(t[r])}),this.$editor.html(t.raw_content).focus()},e}(Spine.Controller),n.exports=t}).call(this)},"controllers/doc_item":function(t,e,n){(function(){var t,r,i={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t=e("models/doc"),r=function(n){function r(){r.__super__.constructor.apply(this,arguments),this.item.bind("destroy",this.release),this.item.bind("update",this.release)}return o(r,n),r.prototype.className="item col-sm-4",r.prototype.events={click:"handleEdit","click .delete":"handleDelete"},r.prototype.render=function(){return this.html(e("views/items/doc")(this.item))},r.prototype.handleEdit=function(){return t.trigger("edit",this.item)},r.prototype.handleDelete=function(t){return t.preventDefault(),t.stopPropagation(),confirm("Are u sure?")?(this.item.eql(window.app.currentDoc)&&$(".new-doc").trigger("click"),this.item.destroy()):void 0},r}(Spine.Controller),n.exports=r}).call(this)},"controllers/doc_list":function(t,e,n){(function(){var t,r,i,o=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t=e("models/doc"),r=e("controllers/doc_item"),i=function(e){function n(){this.render=o(this.render,this),n.__super__.constructor.apply(this,arguments),t.bind("refresh",this.render),t.fetch({},{clear:!0})}return a(n,e),n.prototype.el="#doc-list",n.prototype.render=function(t){var e,n,i,o,s;for(t=[].concat(t),s=[],i=0,o=t.length;o>i;i++)e=t[i],n=new r({item:e}),1===t.length?s.push($(".container",this.$el).prepend(n.render())):s.push($(".container",this.$el).append(n.render()));return s},n.prototype.hide=function(){return this.$el.hide()},n.prototype.show=function(){return this.$el.show()},n}(Spine.Controller),n.exports=i}).call(this)},index:function(t,e){(function(){var t,n,r,i,o,s=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};e("lib/setup"),i=e("controllers/doc_list"),n=e("controllers/base_editor"),r=e("models/doc"),t=function(t){function e(){this.handleEdit=s(this.handleEdit,this),e.__super__.constructor.apply(this,arguments),r.bind("edit",this.handleEdit),this.initEditor($("#editor")),$("a[title]").tooltip({container:"body"})}return l(e,t),e.prototype.el="article",e.prototype.className="container",e.prototype.onSubmit=function(t){var e,n,i;return t.preventDefault(),i=this,e=$("input[name='title']",this.$el),""===e.val()?(e.focus(),this.flash("标题不能为空","danger"),!1):(n=this.getFormData())?r.create(n,{done:function(){return i.flash("已保存","success"),$(".brand").removeClass("loading"),i.renderWithData(this.attributes())}}):void 0},e.prototype.handleEdit=function(t){return $(".doc-list-menu").trigger("click"),this.renderWithData(t.attributes()),this.currentDoc=t},e}(n),o=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.doc_box=new i,window.app=new t}return l(n,e),n.prototype.el="header",n.prototype.events={"click .doc-list-menu":"handleDocBox","click .save-doc":"saveDoc","click .new-doc":"newDoc"},n.prototype.handleDocBox=function(t){return $(t.currentTarget).hasClass("active")?this.doc_box.hide():(this.doc_box.show(),$(window).scrollTop(0)),$(t.currentTarget).toggleClass("active")},n.prototype.saveDoc=function(){return window.app.$el.find("form").submit()},n.prototype.newDoc=function(){return window.app.$el.find("form")[0].reset(),window.app.resetDoc()},n}(Spine.Controller),$(function(){return Spine.Model.host="http://iweb.17up.org/api",new o})}).call(this)},"lib/bootstrap.min":function(){if("undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one(t.support.transition.end,function(){n=!0});var i=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){o.trigger("closed.bs.alert").remove()}var r=t(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=t(i);e&&e.preventDefault(),o.length||(o=r.hasClass("alert")?r:r.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var r=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var r=t(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),"string"==typeof e&&i[e].call(r)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),+function(t){"use strict";var e=function(n,r){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,r)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,r=n.is("input")?"val":"html",i=n.data();t+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===e.prop("type")&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var r=t(this),i=r.data("bs.button"),o="object"==typeof n&&n;i||r.data("bs.button",i=new e(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,r=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){n.to(e)}):r==e?this.pause().cycle():this.slide(e>r?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var r=this.$element.find(".item.active"),i=n||r[e](),o=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[a]()}this.sliding=!0,o&&this.pause();var c=t.Event("slide.bs.carousel",{relatedTarget:i[0],direction:s});if(!i.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;i.addClass(e),i[0].offsetWidth,r.addClass(s),i.addClass(s),r.one(t.support.transition.end,function(){i.removeClass([e,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var r=t(this),i=r.data("bs.carousel"),o=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n),s="string"==typeof n?n:o.slide;i||r.data("bs.carousel",i=new e(this,o)),"number"==typeof n?i.to(n):s?i[s]():o.interval&&i.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,r=t(this),i=t(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},i.data(),r.data()),s=r.attr("data-slide-to");s&&(o.interval=!1),i.carousel(o),(s=r.attr("data-slide-to"))&&i.data("bs.carousel").to(s),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(n,r){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var r=n.data("bs.collapse");if(r&&r.transitioning)return;n.collapse("hide"),r||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var s=t.camelCase(["scroll",i].join("-"));this.$element.one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)[i](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one(t.support.transition.end,t.proxy(r,this)).emulateTransitionEnd(350),void 0):r.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var r=t(this),i=r.data("bs.collapse"),o=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n);i||r.data("bs.collapse",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,r=t(this),i=r.attr("data-target")||e.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=t(i),s=o.data("bs.collapse"),a=s?"toggle":r.data(),l=r.attr("data-parent"),c=l&&t(l);s&&s.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(r).addClass("collapsed"),r[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(a)})}(jQuery),+function(t){"use strict";function e(){t(r).remove(),t(i).each(function(e){var r=n(t(this));r.hasClass("open")&&(r.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}var r=".dropdown-backdrop",i="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),o.trigger(r=t.Event("show.bs.dropdown")),r.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown"),i.focus()}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var r=t(this);if(e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled")){var o=n(r),s=o.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&o.find(i).focus(),r.click();var a=t("[role=menu] li:not(.divider):visible a",o);if(a.length){var l=a.index(a.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<a.length-1&&l++,~l||(l=0),a.eq(l).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),r=n.data("dropdown");r||n.data("dropdown",r=new o(this)),"string"==typeof e&&r[e].call(n)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,o.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu]",o.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var r=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});r?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(i)}).emulateTransitionEnd(300):n.$element.focus().trigger(i)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,r){return this.each(function(){var i=t(this),o=i.data("bs.modal"),s=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.modal",o=new e(this,s)),"string"==typeof n?o[n](r):s.show&&o.show(r)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),r=n.attr("href"),i=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),n.data());e.preventDefault(),i.modal(o,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,r){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var s=i[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focus",l="hover"==s?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,o=i.test(r);o&&(r=r.replace(i,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),a=n[0].offsetWidth,l=n[0].offsetHeight;if(o){var c=this.$element.parent(),u=r,h=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),d="body"==this.options.container?window.innerHeight:c.outerHeight(),f="body"==this.options.container?0:c.offset().left;r="bottom"==r&&s.top+s.height+l-h>d?"top":"top"==r&&s.top-h-l<0?"bottom":"right"==r&&s.right+a>p?"left":"left"==r&&s.left-a<f?"right":r,n.removeClass(u).addClass(r)}var g=this.getCalculatedOffset(r,s,a,l);this.applyPlacement(g,r),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var n,r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,s=parseInt(r.css("margin-top"),10),a=parseInt(r.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,r.offset(t).addClass("in");var l=r[0].offsetWidth,c=r[0].offsetHeight;if("top"==e&&c!=o&&(n=!0,t.top=t.top+o-c),/bottom|top/.test(e)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,r.offset(t),l=r[0].offsetWidth,c=r[0].offsetHeight),this.replaceArrow(u-i+l,l,"left")}else this.replaceArrow(c-o,c,"top");n&&r.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&r.detach()}var n=this,r=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?r.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var r=t(this),i=r.data("bs.tooltip"),o="object"==typeof n&&n;i||r.data("bs.tooltip",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var r=t(this),i=r.data("bs.popover"),o="object"==typeof n&&n;i||r.data("bs.popover",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(n,r){var i,o=t.proxy(this.process,this);this.$element=t(n).is("body")?t(window):t(n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||(i=t(n).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var n=this;this.$body.find(this.selector).map(function(){var r=t(this),i=r.data("target")||r.attr("href"),o=/^#\w/.test(i)&&t(i);return o&&o.length&&[[o[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,r=n-this.$scrollElement.height(),i=this.offsets,o=this.targets,s=this.activeTarget;if(e>=r)return s!=(t=o.last()[0])&&this.activate(t);for(t=i.length;t--;)s!=o[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var r=t(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(o),!o.isDefaultPrevented()){var s=t(r);this.activate(e.parent("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},e.prototype.activate=function(e,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),s=r&&t.support.transition&&o.hasClass("fade");s?o.one(t.support.transition.end,i).emulateTransitionEnd(150):i(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new e(this)),"string"==typeof n&&i[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(n,r){this.options=t.extend({},e.DEFAULTS,r),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),o=this.options.offset,s=o.top,a=o.bottom;"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom());
var l=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=a&&i.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=r?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?i.top-r:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-a-this.$element.height()}))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var r=t(this),i=r.data("bs.affix"),o="object"==typeof n&&n;i||r.data("bs.affix",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(jQuery)},"lib/jquery/bootstrap-wysiwyg":function(){!function(t){"use strict";var e=function(e){var n=t.Deferred(),r=new FileReader;return r.onload=function(t){n.resolve(t.target.result)},r.onerror=n.reject,r.onprogress=n.notify,r.readAsDataURL(e),n.promise()};t.fn.cleanHtml=function(){var e=t(this).html();return e&&e.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/,"")},t.fn.wysiwyg=function(n){var r,i,o,s=this,a=function(){i.activeToolbarClass&&t(i.toolbarSelector).find(o).each(function(){var e=t(this).data(i.commandRole).split(" "),n=e[0];e.length>1&&document.queryCommandEnabled(n)&&document.queryCommandValue(n)==e[1]?t(this).addClass(i.activeToolbarClass):1===e.length&&document.queryCommandEnabled(n)&&document.queryCommandState(n)?t(this).addClass(i.activeToolbarClass):t(this).removeClass(i.activeToolbarClass)})},l=function(t,e){var n=t.split(" "),r=n.shift(),i=n.join(" ")+(e||"");document.execCommand(r,0,i),a()},c=function(e){t.each(e,function(t,e){s.keydown(t,function(t){s.attr("contenteditable")&&s.is(":visible")&&(t.preventDefault(),t.stopPropagation(),l(e))}).keyup(t,function(t){s.attr("contenteditable")&&s.is(":visible")&&(t.preventDefault(),t.stopPropagation())})})},u=function(){var t=window.getSelection();return t.getRangeAt&&t.rangeCount?t.getRangeAt(0):void 0},h=function(){r=u()},p=function(){var t=window.getSelection();if(r){try{t.removeAllRanges()}catch(e){document.body.createTextRange().select(),document.selection.empty()}t.addRange(r)}},d=function(n){s.focus(),t.each(n,function(n,r){/^image\//.test(r.type)?t.when(e(r)).done(function(t){l("insertimage",t),i.afterUpload()}).fail(function(t){i.fileUploadError("file-reader",t)}):i.fileUploadError("unsupported-file-type",r.type)})},f=function(t,e){p(),document.queryCommandSupported("hiliteColor")&&document.execCommand("hiliteColor",0,e||"transparent"),h(),t.data(i.selectionMarker,e)},g=function(e,n){e.find(o).click(function(){p(),s.focus(),l(t(this).data(n.commandRole)),h()}),e.find("[data-toggle=dropdown]").click(p),e.find("input[type=text][data-"+n.commandRole+"]").on("webkitspeechchange change",function(){var e=this.value;this.value="",p(),e&&(s.focus(),l(t(this).data(n.commandRole),e)),h()}).on("focus",function(){var e=t(this);e.data(n.selectionMarker)||(f(e,n.selectionColor),e.focus())}).on("blur",function(){var e=t(this);e.data(n.selectionMarker)&&f(e,!1)}),e.find("input[type=file][data-"+n.commandRole+"]").change(function(){p(),"file"===this.type&&this.files&&this.files.length>0&&d(this.files),h(),this.value=""})},m=function(){s.on("dragenter dragover",!1).on("drop",function(t){var e=t.originalEvent.dataTransfer;t.stopPropagation(),t.preventDefault(),e&&e.files&&e.files.length>0&&d(e.files)})};return i=t.extend({},t.fn.wysiwyg.defaults,n),o="a[data-"+i.commandRole+"],button[data-"+i.commandRole+"],input[type=button][data-"+i.commandRole+"]",c(i.hotKeys),i.dragAndDropImages&&m(),g(t(i.toolbarSelector),i),s.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){h(),a()}),t(window).bind("touchend",function(t){var e=s.is(t.target)||s.has(t.target).length>0,n=u(),r=n&&n.startContainer===n.endContainer&&n.startOffset===n.endOffset;(!r||e)&&(h(),a())}),this},t.fn.wysiwyg.defaults={hotKeys:{"ctrl+b meta+b":"bold","ctrl+i meta+i":"italic","ctrl+u meta+u":"underline","ctrl+z meta+z":"undo","ctrl+y meta+y meta+shift+z":"redo","ctrl+l meta+l":"justifyleft","ctrl+r meta+r":"justifyright","ctrl+e meta+e":"justifycenter","ctrl+j meta+j":"justifyfull","shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"active",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0,fileUploadError:function(t,e){console.log("File upload error",t,e)},afterUpload:function(){console.log("Uploaded")}}}(window.jQuery)},"lib/jquery/jquery-dateFormat":function(){var t={};!function(t){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],i={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},o=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;t.format=function(){function t(t){return e[parseInt(t,10)]||t}function s(t){var e=parseInt(t,10)-1;return n[e]||t}function a(t){var e=parseInt(t,10)-1;return r[e]||t}function l(t){return i[t]||t}function c(t){var e,n,r,i,o,s=t,a="";return-1!==s.indexOf(".")&&(i=s.split("."),s=i[0],a=i[1]),o=s.split(":"),3===o.length?(e=o[0],n=o[1],r=o[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),s=s.replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:s,hour:e,minute:n,second:r,millis:a}):{time:"",hour:"",minute:"",second:"",millis:""}}function u(t,e){for(var n=e-String(t).length,r=0;n>r;r++)t="0"+t;return t}return{parseDate:function(t){var e={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof t)return this.parseDate(new Date(t));if("function"==typeof t.getFullYear)e.year=String(t.getFullYear()),e.month=String(t.getMonth()+1),e.dayOfMonth=String(t.getDate()),e.time=c(t.toTimeString());else if(-1!=t.search(o))values=t.split(/[T\+-]/),e.year=values[0],e.month=values[1],e.dayOfMonth=values[2],e.time=c(values[3].split(".")[0]);else switch(values=t.split(" "),values.length){case 6:e.year=values[5],e.month=l(values[1]),e.dayOfMonth=values[2],e.time=c(values[3]);break;case 2:subValues=values[0].split("-"),e.year=subValues[0],e.month=subValues[1],e.dayOfMonth=subValues[2],e.time=c(values[1]);break;case 7:case 9:case 10:e.year=values[3],e.month=l(values[1]),e.dayOfMonth=values[2],e.time=c(values[4]);break;case 1:subValues=values[0].split(""),e.year=subValues[0]+subValues[1]+subValues[2]+subValues[3],e.month=subValues[5]+subValues[6],e.dayOfMonth=subValues[8]+subValues[9],e.time=c(subValues[13]+subValues[14]+subValues[15]+subValues[16]+subValues[17]+subValues[18]+subValues[19]+subValues[20]);break;default:return null}return e.date=new Date(e.year,e.month-1,e.dayOfMonth),e.dayOfWeek=String(e.date.getDay()),e},date:function(e,n){try{var r=this.parseDate(e);if(null===r)return e;for(var i=(r.date,r.year),o=r.month,l=r.dayOfMonth,c=r.dayOfWeek,h=r.time,p="",d="",f="",g=!1,m=0;m<n.length;m++){var v=n.charAt(m),y=n.charAt(m+1);if(g)"'"==v?(d+=""===p?"'":p,p="",g=!1):p+=v;else switch(p+=v,f="",p){case"ddd":d+=t(c),p="";break;case"dd":if("d"===y)break;d+=u(l,2),p="";break;case"d":if("d"===y)break;d+=parseInt(l,10),p="";break;case"D":l=1==l||21==l||31==l?parseInt(l,10)+"st":2==l||22==l?parseInt(l,10)+"nd":3==l||23==l?parseInt(l,10)+"rd":parseInt(l,10)+"th",d+=l,p="";break;case"MMMM":d+=a(o),p="";break;case"MMM":if("M"===y)break;d+=s(o),p="";break;case"MM":if("M"===y)break;d+=u(o,2),p="";break;case"M":if("M"===y)break;d+=parseInt(o,10),p="";break;case"y":case"yyy":if("y"===y)break;d+=p,p="";break;case"yy":if("y"===y)break;d+=String(i).slice(-2),p="";break;case"yyyy":d+=i,p="";break;case"HH":d+=u(h.hour,2),p="";break;case"H":if("H"===y)break;d+=parseInt(h.hour,10),p="";break;case"hh":hour=0===parseInt(h.hour,10)?12:h.hour<13?h.hour:h.hour-12,d+=u(hour,2),p="";break;case"h":if("h"===y)break;hour=0===parseInt(h.hour,10)?12:h.hour<13?h.hour:h.hour-12,d+=parseInt(hour,10),p="";break;case"mm":d+=u(h.minute,2),p="";break;case"m":if("m"===y)break;d+=h.minute,p="";break;case"ss":d+=u(h.second.substring(0,2),2),p="";break;case"s":if("s"===y)break;d+=h.second,p="";break;case"S":case"SS":if("S"===y)break;d+=p,p="";break;case"SSS":d+=h.millis.substring(0,3),p="";break;case"a":d+=h.hour>=12?"PM":"AM",p="";break;case"p":d+=h.hour>=12?"p.m.":"a.m.",p="";break;case"'":p="",g=!0;break;default:d+=v,p=""}}return d+=f}catch(b){return console&&console.log&&console.log(b),e}},prettyDate:function(t){var e,n,r;return("string"==typeof t||"number"==typeof t)&&(e=new Date(t)),"object"==typeof t&&(e=new Date(t.toString())),n=((new Date).getTime()-e.getTime())/1e3,r=Math.floor(n/86400),isNaN(r)||0>r?void 0:60>n?"just now":120>n?"1 minute ago":3600>n?Math.floor(n/60)+" minutes ago":7200>n?"1 hour ago":86400>n?Math.floor(n/3600)+" hours ago":1===r?"Yesterday":7>r?r+" days ago":31>r?Math.ceil(r/7)+" weeks ago":r>=31?"more than 5 weeks ago":void 0},toBrowserTimeZone:function(t,e){return this.date(new Date(t),e||"MM/dd/yyyy HH:mm:ss")}}}()}(t),function(e){e.format=t.format}(jQuery)},"lib/jquery/jquery.hotkeys":function(){!function(t){function e(e){if("string"==typeof e.data){var n=e.handler,r=e.data.toLowerCase().split(" "),i=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color"];e.handler=function(e){if(this===e.target||!(/textarea|select/i.test(e.target.nodeName)||t.inArray(e.target.type,i)>-1)){var o="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],s=String.fromCharCode(e.which).toLowerCase(),a="",l={};e.altKey&&"alt"!==o&&(a+="alt+"),e.ctrlKey&&"ctrl"!==o&&(a+="ctrl+"),e.metaKey&&!e.ctrlKey&&"meta"!==o&&(a+="meta+"),e.shiftKey&&"shift"!==o&&(a+="shift+"),o?l[a+o]=!0:(l[a+s]=!0,l[a+t.hotkeys.shiftNums[s]]=!0,"shift+"===a&&(l[t.hotkeys.shiftNums[s]]=!0));for(var c=0,u=r.length;u>c;c++)if(l[r[c]])return n.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery)},"lib/jquery/jquery.serializeObject":function(){!function(t){t.fn.serializeObject=function(){"use strict";var e={},n=function(n,r){var i=e[r.name];"undefined"!=typeof i&&null!==i?t.isArray(i)?i.push(r.value):e[r.name]=[i,r.value]:e[r.name]=r.value};return t.each(this.serializeArray(),n),e}}(jQuery)},"lib/setup":function(t,e){(function(){e("json2ify"),e("es5-shimify"),e("jqueryify"),e("spine"),e("spine/lib/local"),e("spine/lib/ajax"),e("spine/lib/manager"),e("spine/lib/route"),e("lib/bootstrap.min"),e("lib/jquery/jquery-dateFormat"),e("lib/jquery/jquery.serializeObject"),e("lib/jquery/jquery.hotkeys"),e("lib/jquery/bootstrap-wysiwyg"),e("lib/utils/mathquill.min"),e("lib/utils/drawingboard"),e("lib/utils/drawingboard_extend"),e("lib/sound/speech"),$.ajaxSetup({xhrFields:{withCredentials:!0},crossDomain:!0}),$.parseUrl=function(t){var e,n,r;return null==t&&(t=location.href),e={},function(){var i,o,s,a;if(-1!==t.indexOf("?")){for(s=t.split("?").pop().split("&"),a=[],i=0,o=s.length;o>i;i++)n=s[i],a.push((r=n.split("="))&&(e[r[0]]=r[1]));return a}}()&&e||{}}}).call(this)},"lib/sound/speech":function(){!function(t){"use strict";function e(){var e=this;e.recognition=null,e.options={language:"en-US",continuous:!0,interimResults:!1},e._create=function(){if("undefined"==typeof t.webkitSpeechRecognition){var n="Cannot access the speech recognition API. Are you using Google Chrome 25 or higher?";throw console.error(n),new Error(n)}null==e.recognition&&(e.recognition=new webkitSpeechRecognition,e._set(),e.recognition.onresult=e._handleOnResult,e.recognition.onstart=function(){e.fire("start"),e.fire("started")},e.recognition.onend=function(){e.fire("stop"),e.fire("stopped")},e.recognition.onerror=function(t){e.fire("error",t.error)})},e._set=function(){null!=e.recognition&&(e.recognition.continuous=e.options.continuous,e.recognition.interimResults=e.options.interimResults,e.recognition.lang=e.options.language)},e._handleOnResult=function(t){e.fire("result",t)},e.set=function(t,n){if("object"!=typeof t)e.options[t]=n;else for(name in t)e.options[name]=t[name];e.fire("optionschanged")},e.start=function(){null==e.recognition&&e._create(),e.recognition.start(),e.fire("starting")},e.stop=function(){null!=e.recognition&&(e.recognition.stop(),e.fire("stopping"))},e._events={},e.on=function(t,n){e._events[t]=e._events[t]||[],e._events[t].push(n)},e.fire=function(t){var n=e._events[t],r=Array.prototype.slice.call(arguments,1);if(n)for(var i=0,o=n.length;o>i;i++)n[i].apply(null,r)}}t.SpeechRecognition=e}(window)},"lib/utils/drawingboard":function(t,e){window.DrawingBoard="undefined"!=typeof DrawingBoard?DrawingBoard:{},DrawingBoard.Utils={},DrawingBoard.Utils.tpl=function(){"use strict";var t,e="{{",n="}}",r="[a-z0-9_][\\.a-z0-9_]*",i=new RegExp(e+"\\s*("+r+")\\s*"+n,"gi");return function(e,n){return e.replace(i,function(e,r){for(var i=r.split("."),o=i.length,s=n,a=0;o>a;a++){if(s=s[i[a]],s===t)throw"tim: '"+i[a]+"' not found in "+e;if(a===o-1)return s}})}}(),DrawingBoard.Utils.MicroEvent=function(){},DrawingBoard.Utils.MicroEvent.prototype={bind:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},unbind:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},DrawingBoard.Utils._boxBorderSize=function(t,e,n,r){e=!!e||!0,n=!!n||!1;var i,o=0;"width"==r?(i=["border-left-width","border-right-width"],e&&i.push("padding-left","padding-right"),n&&i.push("margin-left","margin-right")):(i=["border-top-width","border-bottom-width"],e&&i.push("padding-top","padding-bottom"),n&&i.push("margin-top","margin-bottom"));for(var s=i.length-1;s>=0;s--)o+=parseInt(t.css(i[s]).replace("px",""),10);return o},DrawingBoard.Utils.boxBorderWidth=function(t,e,n){return DrawingBoard.Utils._boxBorderSize(t,e,n,"width")},DrawingBoard.Utils.boxBorderHeight=function(t,e,n){return DrawingBoard.Utils._boxBorderSize(t,e,n,"height")},DrawingBoard.Utils.isColor=function(t){return t&&t.length?/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)||-1!==$.inArray(t.substring(0,3),["rgb","hsl"]):!1},DrawingBoard.Utils.RGBToInt=function(t,e,n){var r=0;return r|=(255&t)<<16,r|=(255&e)<<8,r|=255&n},DrawingBoard.Utils.pixelAt=function(t,e,n){var r=4*(n*t.width+e),i=DrawingBoard.Utils.RGBToInt(t.data[r],t.data[r+1],t.data[r+2]);return[r,e,n,i]},DrawingBoard.Utils.compareColors=function(t,e,n){if(0===n)return t===e;var r=t>>16&255,i=e>>16&255,o=t>>8&255,s=e>>8&255,a=255&t,l=255&e;return Math.abs(r-i)<=n&&Math.abs(o-s)<=n&&Math.abs(a-l)<=n},function(){for(var t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"]}(),window.DrawingBoard="undefined"!=typeof DrawingBoard?DrawingBoard:{},DrawingBoard.Board=function(t,e){if(this.opts=this.mergeOptions(e),this.ev=new DrawingBoard.Utils.MicroEvent,this.id=t,this.$el=$(document.getElementById(t)),!this.$el.length)return!1;var n='<div class="drawing-board-canvas-wrapper"></canvas><canvas class="drawing-board-canvas"></canvas><div class="drawing-board-cursor drawing-board-utils-hidden"></div></div>';return this.opts.controlsPosition.indexOf("bottom")>-1?n+='<div class="drawing-board-controls"></div>':n='<div class="drawing-board-controls"></div>'+n,this.$el.addClass("drawing-board").append(n),this.dom={$canvasWrapper:this.$el.find(".drawing-board-canvas-wrapper"),$canvas:this.$el.find(".drawing-board-canvas"),$cursor:this.$el.find(".drawing-board-cursor"),$controls:this.$el.find(".drawing-board-controls")},$.each(["left","right","center"],$.proxy(function(t,e){return this.opts.controlsPosition.indexOf(e)>-1?(this.dom.$controls.attr("data-align",e),!1):void 0},this)),this.canvas=this.dom.$canvas.get(0),this.ctx=this.canvas&&this.canvas.getContext&&this.canvas.getContext("2d")?this.canvas.getContext("2d"):null,this.color=this.opts.color,this.ctx?(this.storage=this._getStorage(),this.initHistory(),this.reset({webStorage:!1,history:!1,background:!1}),this.initControls(),this.resize(),this.reset({webStorage:!1,history:!0,background:!0}),this.restoreWebStorage(),this.initDropEvents(),this.initDrawEvents(),void 0):(this.opts.errorMessage&&this.$el.html(this.opts.errorMessage),!1)},DrawingBoard.Board.defaultOpts={controls:["Color","DrawingMode","Size","Navigation"],controlsPosition:"top left",color:"#000000",size:1,background:"#fff",eraserColor:"background",fillTolerance:100,webStorage:"session",droppable:!1,enlargeYourContainer:!1,errorMessage:'<p>It seems you use an obsolete browser. <a href="http://browsehappy.com/" target="_blank">Update it</a> to start drawing.</p>'},DrawingBoard.Board.prototype={mergeOptions:function(t){return t=$.extend({},DrawingBoard.Board.defaultOpts,t),t.background||"background"!==t.eraserColor||(t.eraserColor="transparent"),t},reset:function(t){t=$.extend({color:this.opts.color,size:this.opts.size,webStorage:!0,history:!0,background:!1},t),this.setMode("pencil"),t.background&&this.resetBackground(this.opts.background,!1),t.color&&this.setColor(t.color),t.size&&(this.ctx.lineWidth=t.size),this.ctx.lineCap="round",this.ctx.lineJoin="round",t.webStorage&&this.saveWebStorage(),t.history&&this.saveHistory(),this.blankCanvas=this.getImg(),this.ev.trigger("board:reset",t)},resetBackground:function(t,e){t=t||this.opts.background,e="undefined"!=typeof e?e:!0;var n=DrawingBoard.Utils.isColor(t),r=this.getMode();this.setMode("pencil"),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.width),n?(this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)):t&&this.setImg(t),this.setMode(r),e&&this.saveHistory()},resize:function(){this.dom.$controls.toggleClass("drawing-board-controls-hidden",!this.controls||!this.controls.length);var t,e,n=[this.$el.width(),DrawingBoard.Utils.boxBorderWidth(this.$el),DrawingBoard.Utils.boxBorderWidth(this.dom.$canvasWrapper,!0,!0)],r=[this.$el.height(),DrawingBoard.Utils.boxBorderHeight(this.$el),this.dom.$controls.height(),DrawingBoard.Utils.boxBorderHeight(this.dom.$controls,!1,!0),DrawingBoard.Utils.boxBorderHeight(this.dom.$canvasWrapper,!0,!0)],i=function(t,e){e=e||1;for(var n=t[0],r=1;r<t.length;r++)n+=t[r]*e;return n},o=function(t){return i(t,-1)};this.opts.enlargeYourContainer?(t=this.$el.width(),e=this.$el.height(),this.$el.width(i(n)),this.$el.height(i(r))):(t=o(n),e=o(r)),this.dom.$canvasWrapper.css("width",t+"px"),this.dom.$canvasWrapper.css("height",e+"px"),this.dom.$canvas.css("width",t+"px"),this.dom.$canvas.css("height",e+"px"),this.canvas.width=t,this.canvas.height=e},initControls:function(){if(this.controls=[],!this.opts.controls.length||!DrawingBoard.Control)return!1;for(var t=0;t<this.opts.controls.length;t++){var e=null;if("string"==typeof this.opts.controls[t])e=new window.DrawingBoard.Control[this.opts.controls[t]](this);else if("object"==typeof this.opts.controls[t]){for(var n in this.opts.controls[t])break;e=new window.DrawingBoard.Control[n](this,this.opts.controls[t][n])}e&&this.addControl(e)}},addControl:function(t,e,n){if("string"!=typeof t&&("object"!=typeof t||!t instanceof DrawingBoard.Control))return!1;var r="object"==typeof e?e:{};n=n?1*n:"number"==typeof e?e:null,"string"==typeof t&&(t=new window.DrawingBoard.Control[t](this,r)),n?this.dom.$controls.children().eq(n).before(t.$el):this.dom.$controls.append(t.$el),this.controls||(this.controls=[]),this.controls.push(t),this.dom.$controls.removeClass("drawing-board-controls-hidden")},initHistory:function(){this.history={values:[],position:0}},saveHistory:function(){for(;this.history.values.length>30;)this.history.values.shift(),this.history.position--;0!==this.history.position&&this.history.position<this.history.values.length?(this.history.values=this.history.values.slice(0,this.history.position),this.history.position++):this.history.position=this.history.values.length+1,this.history.values.push(this.getImg()),this.ev.trigger("historyNavigation",this.history.position)},_goThroughHistory:function(t){if(!(t&&this.history.position==this.history.values.length||!t&&1==this.history.position)){var e=t?this.history.position+1:this.history.position-1;this.history.values.length&&void 0!==this.history.values[e-1]&&(this.history.position=e,this.setImg(this.history.values[e-1])),this.ev.trigger("historyNavigation",e),this.saveWebStorage()}},goBackInHistory:function(){this._goThroughHistory(!1)},goForthInHistory:function(){this._goThroughHistory(!0)},setImg:function(t){var e=this.ctx,n=new Image,r=e.globalCompositeOperation;n.onload=function(){e.globalCompositeOperation="source-over",e.clearRect(0,0,e.canvas.width,e.canvas.width),e.drawImage(n,0,0),e.globalCompositeOperation=r},n.src=t},getImg:function(){return this.canvas.toDataURL("image/png")},downloadImg:function(){var t=this.getImg();t=t.replace("image/png","image/octet-stream"),window.location.href=t},saveWebStorage:function(){window[this.storage]&&(window[this.storage].setItem("drawing-board-"+this.id,this.getImg()),this.ev.trigger("board:save"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1),this.getImg()))},restoreWebStorage:function(){window[this.storage]&&null!==window[this.storage].getItem("drawing-board-"+this.id)&&(this.setImg(window[this.storage].getItem("drawing-board-"+this.id)),this.ev.trigger("board:restore"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1),window[this.storage].getItem("drawing-board-"+this.id)))},clearWebStorage:function(){window[this.storage]&&null!==window[this.storage].getItem("drawing-board-"+this.id)&&(window[this.storage].removeItem("drawing-board-"+this.id),this.ev.trigger("board:clear"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1)))},_getStorage:function(){return!this.opts.webStorage||"session"!==this.opts.webStorage&&"local"!==this.opts.webStorage?!1:this.opts.webStorage+"Storage"},initDropEvents:function(){return this.opts.droppable?(this.dom.$canvas.on("dragover dragenter drop",function(t){t.stopPropagation(),t.preventDefault()}),this.dom.$canvas.on("drop",$.proxy(this._onCanvasDrop,this)),void 0):!1},_onCanvasDrop:function(t){t=t.originalEvent?t.originalEvent:t;var e=t.dataTransfer.files;if(!e||!e.length||-1==e[0].type.indexOf("image")||!window.FileReader)return!1;var n=new FileReader;n.readAsDataURL(e[0]),n.onload=$.proxy(function(t){this.setImg(t.target.result),this.ev.trigger("board:imageDropped",t.target.result),this.ev.trigger("board:userAction"),this.saveHistory()},this)},setMode:function(t,e){e=e||!1,t=t||"pencil",this.ev.unbind("board:startDrawing",$.proxy(this.fill,this)),"transparent"===this.opts.eraserColor?this.ctx.globalCompositeOperation="eraser"===t?"destination-out":"source-over":("eraser"===t?"background"===this.opts.eraserColor&&DrawingBoard.Utils.isColor(this.opts.background)?this.ctx.strokeStyle=this.opts.background:DrawingBoard.Utils.isColor(this.opts.eraserColor)&&(this.ctx.strokeStyle=this.opts.eraserColor):this.mode&&"eraser"!==this.mode||(this.ctx.strokeStyle=this.color),"filler"===t&&this.ev.bind("board:startDrawing",$.proxy(this.fill,this))),this.mode=t,e||this.ev.trigger("board:mode",this.mode)},getMode:function(){return this.mode||"pencil"},setColor:function(t){var e=this;if(t=t||this.color,!DrawingBoard.Utils.isColor(t))return!1;if(this.color=t,"transparent"!==this.opts.eraserColor&&"eraser"===this.mode){var n=function(t){"eraser"!==t&&(e.strokeStyle=e.color),e.ev.unbind("board:mode",n)};this.ev.bind("board:mode",n)}else this.ctx.strokeStyle=this.color},fill:function(t){if(this.getImg()===this.blankCanvas)return this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.width),this.ctx.fillStyle=this.color,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),void 0;var e=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),n=0,r=1,i=2,o=3,s=this.ctx.strokeStyle,a=parseInt(s.substr(1,2),16),l=parseInt(s.substr(3,2),16),c=parseInt(s.substr(5,2),16),u=DrawingBoard.Utils.pixelAt(e,parseInt(t.coords.x,10),parseInt(t.coords.y,10)),h=u[o],p=this.opts.fillTolerance;if(!DrawingBoard.Utils.compareColors(h,DrawingBoard.Utils.RGBToInt(a,l,c),p)){for(var d,f=[u],g=e.width-1,m=e.height-1;d=f.pop();)DrawingBoard.Utils.compareColors(d[o],h,p)&&(e.data[d[n]]=a,e.data[d[n]+1]=l,e.data[d[n]+2]=c,d[r]>0&&f.push(DrawingBoard.Utils.pixelAt(e,d[r]-1,d[i])),d[r]<g&&f.push(DrawingBoard.Utils.pixelAt(e,d[r]+1,d[i])),d[i]>0&&f.push(DrawingBoard.Utils.pixelAt(e,d[r],d[i]-1)),d[i]<m&&f.push(DrawingBoard.Utils.pixelAt(e,d[r],d[i]+1)));this.ctx.putImageData(e,0,0)}},initDrawEvents:function(){this.isDrawing=!1,this.isMouseHovering=!1,this.coords={},this.coords.old=this.coords.current=this.coords.oldMid={x:0,y:0},this.dom.$canvas.on("mousedown touchstart",$.proxy(function(t){this._onInputStart(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mousemove touchmove",$.proxy(function(t){this._onInputMove(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mousemove",$.proxy(function(){},this)),this.dom.$canvas.on("mouseup touchend",$.proxy(function(t){this._onInputStop(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mouseover",$.proxy(function(t){this._onMouseOver(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mouseout",$.proxy(function(t){this._onMouseOut(t,this._getInputCoords(t))},this)),$("body").on("mouseup touchend",$.proxy(function(){this.isDrawing=!1},this)),window.requestAnimationFrame&&requestAnimationFrame($.proxy(this.draw,this))},draw:function(){if(window.requestAnimationFrame&&this.ctx.lineWidth>10&&this.isMouseHovering){this.dom.$cursor.css({width:this.ctx.lineWidth+"px",height:this.ctx.lineWidth+"px"});var t=DrawingBoard.Utils.tpl("translateX({{x}}px) translateY({{y}}px)",{x:this.coords.current.x-this.ctx.lineWidth/2,y:this.coords.current.y-this.ctx.lineWidth/2});this.dom.$cursor.css({transform:t,"-webkit-transform":t,"-ms-transform":t}),this.dom.$cursor.removeClass("drawing-board-utils-hidden")}else this.dom.$cursor.addClass("drawing-board-utils-hidden");if(this.isDrawing){var e=this._getMidInputCoords(this.coords.current);this.ctx.beginPath(),this.ctx.moveTo(e.x,e.y),this.ctx.quadraticCurveTo(this.coords.old.x,this.coords.old.y,this.coords.oldMid.x,this.coords.oldMid.y),this.ctx.stroke(),this.coords.old=this.coords.current,this.coords.oldMid=e}window.requestAnimationFrame&&requestAnimationFrame($.proxy(function(){this.draw()},this))},_onInputStart:function(t,e){this.coords.current=this.coords.old=e,this.coords.oldMid=this._getMidInputCoords(e),this.isDrawing=!0,window.requestAnimationFrame||this.draw(),this.ev.trigger("board:startDrawing",{e:t,coords:e}),t.stopPropagation(),t.preventDefault()},_onInputMove:function(t,e){this.coords.current=e,this.ev.trigger("board:drawing",{e:t,coords:e}),window.requestAnimationFrame||this.draw(),t.stopPropagation(),t.preventDefault()},_onInputStop:function(t,e){!this.isDrawing||t.touches&&0!==t.touches.length||(this.isDrawing=!1,this.saveWebStorage(),this.saveHistory(),this.ev.trigger("board:stopDrawing",{e:t,coords:e}),this.ev.trigger("board:userAction"),t.stopPropagation(),t.preventDefault())},_onMouseOver:function(t,e){this.isMouseHovering=!0,this.coords.old=this._getInputCoords(t),this.coords.oldMid=this._getMidInputCoords(this.coords.old),this.ev.trigger("board:mouseOver",{e:t,coords:e})},_onMouseOut:function(t,e){this.isMouseHovering=!1,this.ev.trigger("board:mouseOut",{e:t,coords:e})},_getInputCoords:function(t){t=t.originalEvent?t.originalEvent:t;var e,n;return t.touches&&1==t.touches.length?(e=t.touches[0].pageX,n=t.touches[0].pageY):(e=t.pageX,n=t.pageY),{x:e-this.dom.$canvas.offset().left,y:n-this.dom.$canvas.offset().top}},_getMidInputCoords:function(t){return{x:this.coords.old.x+t.x>>1,y:this.coords.old.y+t.y>>1}}},DrawingBoard.Control=function(t,e){return this.board=t,this.opts=$.extend({},this.defaults,e),this.$el=$(document.createElement("div")).addClass("drawing-board-control"),this.name&&(this.$el.addClass("drawing-board-control-"+this.name),this.$el.addClass("btn-group")),this.board.ev.bind("board:reset",$.proxy(this.onBoardReset,this)),this.initialize.apply(this,arguments),this},DrawingBoard.Control.prototype={name:"",defaults:{},initialize:function(){},addToBoard:function(){this.board.addControl(this)},onBoardReset:function(){}},DrawingBoard.Control.extend=function(t,e){var n,r=this;n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return r.apply(this,arguments)},$.extend(n,r,e);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,t&&$.extend(n.prototype,t),n.__super__=r.prototype,n},DrawingBoard.Control.Color=DrawingBoard.Control.extend({name:"colors",initialize:function(){this.initTemplate();var t=this;this.$el.on("click",".drawing-board-control-colors-picker",function(e){var n=$(this).attr("data-color");t.board.setColor(n),t.$el.find(".drawing-board-control-colors-current").css("background-color",n).attr("data-color",n),t.board.ev.trigger("color:changed",n),t.$el.find(".drawing-board-control-colors-rainbows").addClass("drawing-board-utils-hidden"),e.preventDefault()}),this.$el.on("click",".drawing-board-control-colors-current",function(e){t.$el.find(".drawing-board-control-colors-rainbows").toggleClass("drawing-board-utils-hidden"),e.preventDefault()}),$("body").on("click",function(e){var n=$(e.target),r=n.hasClass("drawing-board-control-colors-current")?n:n.closest(".drawing-board-control-colors-current"),i=t.$el.find(".drawing-board-control-colors-current"),o=t.$el.find(".drawing-board-control-colors-rainbows");r.length&&r.get(0)===i.get(0)||o.hasClass("drawing-board-utils-hidden")||o.addClass("drawing-board-utils-hidden")})},initTemplate:function(){var t='<div class="drawing-board-control-inner"><div class="drawing-board-control-colors-current" style="background-color: {{color}}" data-color="{{color}}"></div><div class="drawing-board-control-colors-rainbows">{{rainbows}}</div></div>',e='<div class="drawing-board-control-colors-picker" data-color="{{color}}" style="background-color: {{color}}"></div>',n="";$.each([.75,.5,.25],$.proxy(function(t,r){var i=0,o=null;for(n+='<div class="drawing-board-control-colors-rainbow">',.25==r&&(o=this._rgba(0,0,0,1)),.5==r&&(o=this._rgba(150,150,150,1)),.75==r&&(o=this._rgba(255,255,255,1)),n+=DrawingBoard.Utils.tpl(e,{color:o.toString()});330>=i;)n+=DrawingBoard.Utils.tpl(e,{color:this._hsl2Rgba(this._hsl(i-60,1,r)).toString()}),i+=30;n+="</div>"},this)),this.$el.append($(DrawingBoard.Utils.tpl(t,{color:this.board.color,rainbows:n}))),this.$el.find(".drawing-board-control-colors-rainbows").addClass("drawing-board-utils-hidden")},onBoardReset:function(){this.board.setColor(this.$el.find(".drawing-board-control-colors-current").attr("data-color"))},_rgba:function(t,e,n,r){return{r:t,g:e,b:n,a:r,toString:function(){return"rgba("+t+", "+e+", "+n+", "+r+")"
}}},_hsl:function(t,e,n){return{h:t,s:e,l:n,toString:function(){return"hsl("+t+", "+100*e+"%, "+100*n+"%)"}}},_hex2Rgba:function(t){var e=parseInt(t.substring(1),16);return this._rgba(e>>16,e>>8&255,255&e,1)},_hsl2Rgba:function(t){function e(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var n,r,i,o=t.h/360,s=t.s,a=t.l;if(0===s)n=r=i=a;else{var l=.5>a?a*(1+s):a+s-a*s,c=2*a-l;n=Math.floor(255*e(c,l,o+1/3)),r=Math.floor(255*e(c,l,o)),i=Math.floor(255*e(c,l,o-1/3))}return this._rgba(n,r,i,1)}}),DrawingBoard.Control.DrawingMode=DrawingBoard.Control.extend({name:"drawingmode",defaults:{pencil:!0,eraser:!0,filler:!0},initialize:function(){this.prevMode=this.board.getMode(),$.each(["pencil","eraser","filler"],$.proxy(function(t,n){this.opts[n]&&this.$el.append(e("views/widgets/drawing_mode")({v:n}))},this)),this.$el.on("click","a[data-mode]",$.proxy(function(t){var e=$(t.currentTarget).attr("data-mode"),n=this.board.getMode();n!==e&&(this.prevMode=n);var r=n===e?this.prevMode:e;this.board.setMode(r),t.preventDefault()},this)),this.board.ev.bind("board:mode",$.proxy(function(t){this.toggleButtons(t)},this)),this.toggleButtons(this.board.getMode())},toggleButtons:function(t){this.$el.find("a[data-mode]").each(function(e,n){var r=$(n);r.toggleClass("active",t===r.attr("data-mode"))})}}),DrawingBoard.Control.Navigation=DrawingBoard.Control.extend({name:"navigation",defaults:{back:!0,forward:!0,reset:!0},initialize:function(){if(this.$el.append(e("views/widgets/board_navigate")()),this.opts.back){var t=this.$el.find(".drawing-board-control-navigation-back");this.board.ev.bind("historyNavigation",$.proxy(function(e){1===e?t.attr("disabled","disabled"):t.removeAttr("disabled")},this)),this.$el.on("click",".drawing-board-control-navigation-back",$.proxy(function(t){this.board.goBackInHistory(),t.preventDefault()},this))}if(this.opts.forward){var n=this.$el.find(".drawing-board-control-navigation-forward");this.board.ev.bind("historyNavigation",$.proxy(function(t){t===this.board.history.values.length?n.attr("disabled","disabled"):n.removeAttr("disabled")},this)),this.$el.on("click",".drawing-board-control-navigation-forward",$.proxy(function(t){this.board.goForthInHistory(),t.preventDefault()},this))}this.opts.reset&&this.$el.on("click",".drawing-board-control-navigation-reset",$.proxy(function(t){this.board.reset({background:!0}),t.preventDefault()},this))}}),DrawingBoard.Control.Size=DrawingBoard.Control.extend({name:"size",defaults:{type:"auto",dropdownValues:[1,3,6,10,20,30,40,50]},types:["dropdown","range"],initialize:function(){"auto"==this.opts.type&&(this.opts.type=this._iHasRangeInput()?"range":"dropdown");var t=$.inArray(this.opts.type,this.types)>-1?this["_"+this.opts.type+"Template"]():!1;if(!t)return!1;this.val=this.board.opts.size,this.$el.append($(t)),this.$el.attr("data-drawing-board-type",this.opts.type),this.updateView();var e=this;"range"==this.opts.type&&this.$el.on("change",".drawing-board-control-size-range-input",function(t){e.val=$(this).val(),e.updateView(),e.board.ev.trigger("size:changed",e.val),t.preventDefault()}),"dropdown"==this.opts.type&&(this.$el.on("click",".drawing-board-control-size-dropdown-current",$.proxy(function(){this.$el.find(".drawing-board-control-size-dropdown").toggleClass("drawing-board-utils-hidden")},this)),this.$el.on("click","[data-size]",function(t){e.val=parseInt($(this).attr("data-size"),0),e.updateView(),e.board.ev.trigger("size:changed",e.val),t.preventDefault()}))},_rangeTemplate:function(){var t='<div class="drawing-board-control-inner" title="{{size}}"><input type="range" min="1" max="50" value="{{size}}" step="1" class="drawing-board-control-size-range-input" tabindex=-1><span class="drawing-board-control-size-range-current"></span></div>';return DrawingBoard.Utils.tpl(t,{size:this.board.opts.size})},_dropdownTemplate:function(){var t='<div class="drawing-board-control-inner" title="{{size}}"><div class="drawing-board-control-size-dropdown-current"><span></span></div><ul class="drawing-board-control-size-dropdown">';return $.each(this.opts.dropdownValues,function(e,n){t+=DrawingBoard.Utils.tpl('<li data-size="{{size}}"><span style="width: {{size}}px; height: {{size}}px; border-radius: {{size}}px;"></span></li>',{size:n})}),t+="</ul></div>"},onBoardReset:function(){this.updateView()},updateView:function(){var t=this.val;if(this.board.ctx.lineWidth=t,this.$el.find(".drawing-board-control-size-range-current, .drawing-board-control-size-dropdown-current span").css({width:t+"px",height:t+"px",borderRadius:t+"px",marginLeft:-1*t/2+"px",marginTop:-1*t/2+"px"}),this.$el.find(".drawing-board-control-inner").attr("title",t),"dropdown"==this.opts.type){var e=null;$.each(this.opts.dropdownValues,function(n,r){(null===e||Math.abs(r-t)<Math.abs(e-t))&&(e=r)}),this.$el.find(".drawing-board-control-size-dropdown").addClass("drawing-board-utils-hidden")}},_iHasRangeInput:function(){var t,e=document.createElement("input"),n=":)",r=document.documentElement,i="range";return e.setAttribute("type",i),t="text"!==e.type,e.value=n,e.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&void 0!==e.style.WebkitAppearance&&(r.appendChild(e),defaultView=document.defaultView,t=defaultView.getComputedStyle&&"textfield"!==defaultView.getComputedStyle(e,null).WebkitAppearance&&0!==e.offsetHeight,r.removeChild(e)),!!t}})},"lib/utils/drawingboard_extend":function(t,e){(function(){DrawingBoard.Control.PasteToEditor=DrawingBoard.Control.extend({name:"paste",initialize:function(){var t,n=this;return this.$el.append(e("views/widgets/paste")()),t=function(t){var e;return $("#editor").focus(),e=n.board.getImg(),document.execCommand("insertimage",0,e),t.preventDefault(),$("#toggle-drawing").trigger("click"),$("#editor").focus()},this.$el.on("click",".drawing-board-control-paste-button",t)}}),DrawingBoard.Control.SwitchSize=DrawingBoard.Control.extend({name:"switch_size",initialize:function(){var t,n=this;return this.$el.append(e("views/widgets/switch_size")()),t=function(t){var e;return t.preventDefault(),$(t.currentTarget).addClass("active").siblings().removeClass("active"),e=$(t.currentTarget).data("size"),n.board.$el.width(e),n.board.resize(),n.board.reset()},this.$el.on("click",".drawing-board-control-size-button",t)}}),DrawingBoard.Control.Download=DrawingBoard.Control.extend({name:"download",initialize:function(){var t=this;return this.$el.append(e("views/widgets/download")()),this.$el.on("click",".drawing-board-control-download-button",function(e){return t.board.downloadImg(),e.preventDefault()})}})}).call(this)},"lib/utils/mathquill.min":function(){!function(){function t(){}function e(t){var e=a.call(arguments,1);return function(){return t.apply(this,e)}}function n(t,e){if(!e)throw Error("prayer failed: "+t)}function r(t){n("a direction was passed",t===h||t===p)}function i(e,n,r,i){function o(){m=s;var t=l.selection?"$"+l.selection.latex()+"$":"";b.select(t)}function a(){u.detach()}var l,u,g,m,v,y,b,w=e.contents().detach();return r||e.addClass("mathquill-rendered-math"),n.jQ=e.attr(le,n.id),n.revert=function(){e.empty().unbind(".mathquill").removeClass("mathquill-rendered-math mathquill-editable mathquill-textbox").append(w)},l=n.cursor=ie(n),n.renderLatex(w.text()),u=n.textarea=d('<span class="textarea"><textarea></textarea></span>'),g=u.children(),n.selectionChanged=function(){m===s&&(m=setTimeout(o)),A(e[0])},e.bind("selectstart.mathquill",function(t){t.target!==g[0]&&t.preventDefault(),t.stopPropagation()}),y=l.blink,e.bind("mousedown.mathquill",function(n){function r(t){return l.seek(d(t.target),t.pageX,t.pageY),(l[h]!==v[h]||l.parent!==v.parent)&&l.selectFrom(v),!1}function o(t){return delete t.target,r(t)}function a(t){v=s,l.blink=y,l.selection||(i?l.show():u.detach()),e.unbind("mousemove",r),d(t.target.ownerDocument).unbind("mousemove",o).unbind("mouseup",a)}return setTimeout(function(){g.focus()}),l.blink=t,l.seek(d(n.target),n.pageX,n.pageY),v=f(l.parent,l[h],l[p]),i||e.prepend(u),e.mousemove(r),d(n.target.ownerDocument).mousemove(o).mouseup(a),!1}),i?(b=c(g,{container:e,key:function(t,e){l.parent.bubble("onKey",t,e)},text:function(t){l.parent.bubble("onText",t)},cut:function(t){l.selection&&setTimeout(function(){l.prepareEdit(),l.parent.bubble("redraw")}),t.stopPropagation()},paste:function(t){t="$"===t.slice(0,1)&&"$"===t.slice(-1)?t.slice(1,-1):"\\text{"+t+"}",l.writeLatex(t).show()}}),e.prepend(u),e.addClass("mathquill-editable"),r&&e.addClass("mathquill-textbox"),g.focus(function(t){l.parent||l.insAtRightEnd(n),l.parent.jQ.addClass("hasCursor"),l.selection?(l.selection.jQ.removeClass("blur"),setTimeout(n.selectionChanged)):l.show(),t.stopPropagation()}).blur(function(t){l.hide().parent.blur(),l.selection&&l.selection.jQ.addClass("blur"),t.stopPropagation()}),e.bind("focus.mathquill blur.mathquill",function(t){g.trigger(t)}).blur(),s):(b=c(g,{container:e}),e.bind("cut paste",!1).bind("copy",o).prepend('<span class="selectable">$'+n.latex()+"$</span>"),g.blur(function(){l.clearSelection(),setTimeout(a)}),s)}function o(t,e,n){return l(W,{ctrlSeq:t,htmlTemplate:"<"+e+" "+n+">&0</"+e+">"})}var s,a,l,c,u,h,p,d,f,g,m,v,y,b,w,x,C,k,T,j,S,$,D,E,A,O,q,_,N,R,L,M,B,I,F,P,H,Q,z,U,W,J,V,X,Y,K,G,Z,te,ee,ne,re,ie,oe,se=window.jQuery,ae="mathquill-command-id",le="mathquill-block-id",ce=Math.min;Math.max,a=[].slice,l=function(t,e,n){function r(t){return"object"==typeof t}function i(t){return"function"==typeof t}function o(){}function s(a,l){function c(){var t=new u;return i(t.init)&&t.init.apply(t,arguments),t}function u(){}var h,p,d;return l===n&&(l=a,a=Object),c.Bare=u,h=o[t]=a[t],p=u[t]=c[t]=new o,p.constructor=c,c.mixin=function(e){return u[t]=c[t]=s(c,e)[t],c},(c.open=function(t){if(d={},i(t)?d=t.call(c,p,h,c,a):r(t)&&(d=t),r(d))for(var n in d)e.call(d,n)&&(p[n]=d[n]);return i(p.init)||(p.init=a),c})(l)}return s}("prototype",{}.hasOwnProperty),c=function(){function e(t){var e,r=t.which||t.keyCode,i=n[r],o=[];return t.ctrlKey&&o.push("Ctrl"),t.originalEvent&&t.originalEvent.metaKey&&o.push("Meta"),t.altKey&&o.push("Alt"),t.shiftKey&&o.push("Shift"),e=i||String.fromCharCode(r),o.length||i?(o.push(e),o.join("-")):e}var n={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"};return function(n,r){function i(t){C=t,clearTimeout(x),x=setTimeout(t)}function o(e){C(),C=t,clearTimeout(x),b.val(e),e&&b[0].select()}function s(){var t=b[0];return"selectionStart"in t?t.selectionStart!==t.selectionEnd:!1}function a(t){var e=b.val();b.val(""),e&&t(e)}function l(){m(e(k),k)}function c(t){k=t,T=null,l()}function u(t){k&&T&&l(),T=t,i(h)}function h(){s()||a(g)}function p(){k=T=null}function d(){b.focus(),i(f)}function f(){a(v)}var g,m,v,y,b,w,x,C,k=null,T=null;return r||(r={}),g=r.text||t,m=r.key||t,v=r.paste||t,y=r.cut||t,b=se(n),w=se(r.container||b),C=t,w.bind("keydown keypress input keyup focusout paste",function(){C()}),w.bind({keydown:c,keypress:u,focusout:p,cut:y,paste:d}),{select:o}}}(),u=l(function(t,e,r){function i(t,e){throw t=t?"'"+t+"'":"EOF","Parse Error: "+e+" at "+t}var o,s,a;t.init=function(t){this._=t},t.parse=function(t){function e(t,e){return e}return this.skip(a)._(t,e,i)},t.or=function(t){n("or is passed a parser",t instanceof r);var e=this;return r(function(n,r,i){function o(){return t._(n,r,i)}return e._(n,r,o)})},t.then=function(t){var e=this;return r(function(i,o,s){function a(e,i){var a=t instanceof r?t:t(i);return n("a parser is returned",a instanceof r),a._(e,o,s)}return e._(i,a,s)})},t.many=function(){var t=this;return r(function(e,n){function r(t,n){return e=t,o.push(n),!0}function i(){return!1}for(var o=[];t._(e,r,i););return n(e,o)})},t.times=function(t,e){2>arguments.length&&(e=t);var n=this;return r(function(r,i,o){function s(t,e){return h.push(e),r=t,!0}function a(t,e){return c=e,r=t,!1}function l(){return!1}var c,u,h=[],p=!0;for(u=0;t>u;u+=1)if(p=n._(r,s,a),!p)return o(r,c);for(;e>u&&p;u+=1)p=n._(r,s,l);return i(r,h)})},t.result=function(t){return this.then(s(t))},t.atMost=function(t){return this.times(0,t)},t.atLeast=function(t){var e=this;return e.times(t).then(function(t){return e.many().map(function(e){return t.concat(e)})})},t.map=function(t){return this.then(function(e){return s(t(e))})},t.skip=function(t){return this.then(function(e){return t.result(e)})},this.string=function(t){var e=t.length,n="expected '"+t+"'";return r(function(r,i,o){var s=r.slice(0,e);return s===t?i(r.slice(e),s):o(r,n)})},o=this.regex=function(t){n("regexp parser is anchored","^"===(""+t).charAt(1));var e="expected "+t;return r(function(n,r,i){var o,s=t.exec(n);return s?(o=s[0],r(n.slice(o.length),o)):i(n,e)})},s=r.succeed=function(t){return r(function(e,n){return n(e,t)})},r.fail=function(t){return r(function(e,n,r){return r(e,t)})},r.letter=o(/^[a-z]/i),r.letters=o(/^[a-z]*/i),r.digit=o(/^[0-9]/),r.digits=o(/^[0-9]*/),r.whitespace=o(/^\s+/),r.optWhitespace=o(/^\s*/),r.any=r(function(t,e,n){return t?e(t.slice(1),t.charAt(0)):n(t,"expected any character")}),r.all=r(function(t,e){return e("",t)}),a=r.eof=r(function(t,e,n){return t?n(t,"expected EOF"):e(t,t)})}),h=-1,p=1,d=l(se,function(t){t.insDirOf=function(t,e){return t===h?this.insertBefore(e.first()):this.insertAfter(e.last())},t.insAtDirEnd=function(t,e){return t===h?this.prependTo(e):this.appendTo(e)}}),f=l(function(t){t.parent=0,t[h]=0,t[p]=0,t.init=function(t,e,n){this.parent=t,this[h]=e,this[p]=n}}),g=l(function(t){t[h]=0,t[p]=0,t.parent=0,t.init=function(){this.ends={},this.ends[h]=0,this.ends[p]=0},t.children=function(){return m(this.ends[h],this.ends[p])},t.eachChild=function(t){return this.children().each(t)},t.foldChildren=function(t,e){return this.children().fold(t,e)},t.adopt=function(t,e,n){return m(this,this).adopt(t,e,n),this},t.disown=function(){return m(this,this).disown(),this}}),m=l(function(t){function e(t,e,r){n("a parent is always present",t),n("leftward is properly set up",function(){return e?e[p]===r&&e.parent===t:t.ends[h]===r}()),n("rightward is properly set up",function(){return r?r[h]===e&&r.parent===t:t.ends[p]===e}())}t.init=function(t,e){n("no half-empty fragments",!t==!e),this.ends={},t&&(n("left end node is passed to Fragment",t instanceof g),n("right end node is passed to Fragment",e instanceof g),n("leftEnd and rightEnd have the same parent",t.parent===e.parent),this.ends[h]=t,this.ends[p]=e)},t.adopt=function(t,n,r){var i,o,s;return e(t,n,r),i=this,i.disowned=!1,(o=i.ends[h])?(s=i.ends[p],n||(t.ends[h]=o),r?r[h]=s:t.ends[p]=s,i.ends[p][p]=r,i.each(function(e){e[h]=n,e.parent=t,n&&(n[p]=e),n=e}),i):this},t.disown=function(){var t,n,r=this,i=r.ends[h];return!i||r.disowned?r:(r.disowned=!0,t=r.ends[p],n=i.parent,e(n,i[h],i),e(n,t,t[p]),i[h]?i[h][p]=t[p]:n.ends[h]=t[p],t[p]?t[p][h]=i[h]:n.ends[p]=i[h],r)},t.each=function(t){var e=this,n=e.ends[h];if(!n)return e;for(;n!==e.ends[p][p]&&t.call(e,n)!==!1;n=n[p]);return e},t.fold=function(t,e){return this.each(function(n){t=e.call(this,t,n)}),t}}),v=function(){var t=0;return function(){return t+=1}}(),y=l(g,function(t,e){t.init=function(){e.init.call(this),this.id=v(),y[this.id]=this},t.toString=function(){return"[MathElement "+this.id+"]"},t.bubble=function(t){var e,n,r=a.call(arguments,1);for(e=this;e&&(n=e[t]&&e[t].apply(e,r),n!==!1);e=e.parent);return this},t.postOrder=function(t){var e,n=a.call(arguments,1);"string"==typeof t&&(e=t,t=function(t){e in t&&t[e].apply(t,n)}),function r(e){e.eachChild(r),t(e)}(this)},t.jQ=d(),t.jQadd=function(t){this.jQ=this.jQ.add(t)},this.jQize=function(t){var e=d(t);return e.find("*").andSelf().each(function(){var t=d(this),e=t.attr("mathquill-command-id"),n=t.attr("mathquill-block-id");e&&y[e].jQadd(t),n&&y[n].jQadd(t)}),e},t.finalizeInsert=function(){var t=this;t.postOrder("finalizeTree"),t.postOrder("blur"),t.postOrder("respace"),t[p].respace&&t[p].respace(),t[h].respace&&t[h].respace(),t.postOrder("redraw"),t.bubble("redraw")}}),b=l(y,function(e,r){e.init=function(t,e,n){var i=this;r.init.call(i),i.ctrlSeq||(i.ctrlSeq=t),e&&(i.htmlTemplate=e),n&&(i.textTemplate=n)},e.replaces=function(t){t.disown(),this.replacedFragment=t},e.isEmpty=function(){return this.foldChildren(!0,function(t,e){return t&&e.isEmpty()})},e.parser=function(){var t=re.block,e=this;return t.times(e.numBlocks()).map(function(t){e.blocks=t;for(var n=0;t.length>n;n+=1)t[n].adopt(e,e.ends[p],0);return e})},e.createLeftOf=function(t){var e=this,n=e.replacedFragment;e.createBlocks(),y.jQize(e.html()),n&&(n.adopt(e.ends[h],0,0),n.jQ.appendTo(e.ends[h].jQ)),t.jQ.before(e.jQ),t[h]=e.adopt(t.parent,t[h],t[p]),e.finalizeInsert(t),e.placeCursor(t)},e.createBlocks=function(){var t,e,n=this,r=n.numBlocks(),i=n.blocks=Array(r);for(t=0;r>t;t+=1)e=i[t]=x(),e.adopt(n,n.ends[p],0)},e.respace=t,e.placeCursor=function(t){t.insAtRightEnd(this.foldChildren(this.ends[h],function(t,e){return t.isEmpty()?t:e}))},e.remove=function(){return this.disown(),this.jQ.remove(),this.postOrder(function(t){delete y[t.id]}),this},e.numBlocks=function(){var t=this.htmlTemplate.match(/&\d+/g);return t?t.length:0},e.html=function(){var t,e,r,i=this,o=i.blocks,s=" mathquill-command-id="+i.id,a=i.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);for(n("no unmatched angle brackets",a.join("")===this.htmlTemplate),t=0,e=a[0];e;t+=1,e=a[t])if("/>"===e.slice(-2))a[t]=e.slice(0,-2)+s+"/>";else if("<"===e.charAt(0)){n("not an unmatched top-level close tag","/"!==e.charAt(1)),a[t]=e.slice(0,-1)+s+">",r=1;do t+=1,e=a[t],n("no missing close tags",e),"</"===e.slice(0,2)?r-=1:"<"===e.charAt(0)&&"/>"!==e.slice(-2)&&(r+=1);while(r>0)}return a.join("").replace(/>&(\d+)/g,function(t,e){return" mathquill-block-id="+o[e].id+">"+o[e].join("html")})},e.latex=function(){return this.foldChildren(this.ctrlSeq,function(t,e){return t+"{"+(e.latex()||" ")+"}"})},e.textTemplate=[""],e.text=function(){var t=this,e=0;return t.foldChildren(t.textTemplate[e],function(n,r){e+=1;var i=r.text();return n&&"("===t.textTemplate[e]&&"("===i[0]&&")"===i.slice(-1)?n+i.slice(1,-1)+t.textTemplate[e]:n+r.text()+(t.textTemplate[e]||"")})}}),w=l(b,function(e,n){e.init=function(t,e,r){r||(r=t&&t.length>1?t.slice(1):t),n.init.call(this,t,e,[r])},e.parser=function(){return u.succeed(this)},e.numBlocks=function(){return 0},e.replaces=function(t){t.remove()},e.createBlocks=t,e.latex=function(){return this.ctrlSeq},e.text=function(){return this.textTemplate},e.placeCursor=t,e.isEmpty=function(){return!0}}),x=l(y,function(t){t.join=function(t){return this.foldChildren("",function(e,n){return e+n[t]()})},t.latex=function(){return this.join("latex")},t.text=function(){return this.ends[h]===this.ends[p]?this.ends[h].text():"("+this.join("text")+")"},t.isEmpty=function(){return 0===this.ends[h]&&0===this.ends[p]},t.write=function(t,e,n){var r;r=e.match(/^[a-eg-zA-Z]$/)?X(e):(r=S[e]||$[e])?r(e):Y(e),n&&r.replaces(n),r.createLeftOf(t)},t.focus=function(){return this.jQ.addClass("hasCursor"),this.jQ.removeClass("empty"),this},t.blur=function(){return this.jQ.removeClass("hasCursor"),this.isEmpty()&&this.jQ.addClass("empty"),this}}),C=l(m,function(t,e){t.init=function(t,n){e.init.call(this,t,n||t),this.jQ=this.fold(d(),function(t,e){return e.jQ.add(t)})},t.latex=function(){return this.fold("",function(t,e){return t+e.latex()})},t.remove=function(){return this.jQ.remove(),this.each(function(t){t.postOrder(function(t){delete y[t.id]})}),this.disown()}}),k=l(x,function(t,e){t.latex=function(){return e.latex.call(this).replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},t.text=function(){return this.foldChildren("",function(t,e){return t+e.text()})},t.renderLatex=function(t){var e=this.jQ;e.children().slice(1).remove(),this.ends[h]=this.ends[p]=0,delete this.cursor.selection,this.cursor.insAtRightEnd(this).writeLatex(t)},t.onKey=function(t,e){var n;switch(t){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":for(;this.cursor[h]||this.cursor.selection;)this.cursor.backspace();break;case"Shift-Backspace":case"Backspace":this.cursor.backspace();break;case"Esc":case"Tab":case"Spacebar":if(n=this.cursor.parent,n===this.cursor.root)return"Spacebar"===t&&e.preventDefault(),s;this.cursor.prepareMove(),n[p]?this.cursor.insAtLeftEnd(n[p]):this.cursor.insRightOf(n.parent);break;case"Shift-Tab":case"Shift-Esc":case"Shift-Spacebar":if(n=this.cursor.parent,n===this.cursor.root)return"Shift-Spacebar"===t&&e.preventDefault(),s;this.cursor.prepareMove(),n[h]?this.cursor.insAtRightEnd(n[h]):this.cursor.insLeftOf(n.parent);break;case"Enter":break;case"End":this.cursor.prepareMove().insAtRightEnd(this.cursor.parent);break;case"Ctrl-End":this.cursor.prepareMove().insAtRightEnd(this);break;case"Shift-End":for(;this.cursor[p];)this.cursor.selectRight();break;case"Ctrl-Shift-End":for(;this.cursor[p]||this.cursor.parent!==this;)this.cursor.selectRight();break;case"Home":this.cursor.prepareMove().insAtLeftEnd(this.cursor.parent);break;case"Ctrl-Home":this.cursor.prepareMove().insAtLeftEnd(this);break;case"Shift-Home":for(;this.cursor[h];)this.cursor.selectLeft();break;case"Ctrl-Shift-Home":for(;this.cursor[h]||this.cursor.parent!==this;)this.cursor.selectLeft();break;case"Left":this.cursor.moveLeft();break;case"Shift-Left":this.cursor.selectLeft();break;case"Ctrl-Left":break;case"Right":this.cursor.moveRight();break;case"Shift-Right":this.cursor.selectRight();break;case"Ctrl-Right":break;case"Up":this.cursor.moveUp();break;case"Down":this.cursor.moveDown();break;case"Shift-Up":if(this.cursor[h])for(;this.cursor[h];)this.cursor.selectLeft();else this.cursor.selectLeft();case"Shift-Down":if(this.cursor[p])for(;this.cursor[p];)this.cursor.selectRight();else this.cursor.selectRight();case"Ctrl-Up":break;case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":for(;this.cursor[p]||this.cursor.selection;)this.cursor.deleteForward();break;case"Shift-Del":case"Del":this.cursor.deleteForward();break;case"Meta-A":case"Ctrl-A":if(this!==this.cursor.root)return;for(this.cursor.prepareMove().insAtRightEnd(this);this.cursor[h];)this.cursor.selectLeft();break;default:return!1}return e.preventDefault(),!1},t.onText=function(t){return this.cursor.write(t),!1}}),T=l(b,function(t,e){t.init=function(t){e.init.call(this,"$"),this.cursor=t},t.htmlTemplate='<span class="mathquill-rendered-math">&0</span>',t.createBlocks=function(){this.ends[h]=this.ends[p]=k(),this.blocks=[this.ends[h]],this.ends[h].parent=this,this.ends[h].cursor=this.cursor,this.ends[h].write=function(t,e,n){"$"!==e?x.prototype.write.call(this,t,e,n):this.isEmpty()?(t.insRightOf(this.parent).backspace().show(),Y("\\$","$").createLeftOf(t)):t[p]?t[h]?x.prototype.write.call(this,t,e,n):t.insLeftOf(this.parent):t.insRightOf(this.parent)}},t.latex=function(){return"$"+this.ends[h].latex()+"$"}}),j=l(x,function(t){t.renderLatex=function(t){var e,n,r,i,o,s,a,l,c,d,f,g=this,m=g.cursor;if(g.jQ.children().slice(1).remove(),g.ends[h]=g.ends[p]=0,delete m.selection,m.show().insAtRightEnd(g),e=u.regex,n=u.string,r=u.eof,i=u.all,o=n("$").then(re).skip(n("$").or(r)).map(function(t){var e,n=T(m);return n.createBlocks(),e=n.ends[h],t.children().adopt(e,0,0),n}),s=n("\\$").result("$"),a=s.or(e(/^[^$]/)).map(Y),l=o.or(a).many(),c=l.skip(r).or(i.result(!1)).parse(t)){for(d=0;c.length>d;d+=1)c[d].adopt(g,g.ends[p],0);f=g.join("html"),y.jQize(f).appendTo(g.jQ),this.finalizeInsert()}},t.onKey=function(t){"Spacebar"!==t&&"Shift-Spacebar"!==t&&k.prototype.onKey.apply(this,arguments)},t.onText=k.prototype.onText,t.write=function(t,e,n){if(n&&n.remove(),"$"===e)T(t).createLeftOf(t);else{var r;"<"===e?r="&lt;":">"===e&&(r="&gt;"),Y(e,r).createLeftOf(t)}}}),S={},$={},A=t,O=document.createElement("div"),q=O.style,_={transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1};for(N in _)if(N in q){E=N;break}E?D=function(t,e,n){t.css(E,"scale("+e+","+n+")")}:"filter"in q?(A=function(t){t.className=t.className},D=function(t,e,n){function r(){t.css("marginRight",(i.width()-1)*(e-1)/e+"px")}var i,o;e/=1+(n-1)/2,t.css("fontSize",n+"em"),t.hasClass("matrixed-container")||t.addClass("matrixed-container").wrapInner('<span class="matrixed"></span>'),i=t.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+e+",SizingMethod='auto expand')"),r(),o=setInterval(r),d(window).load(function(){clearTimeout(o),r()})}):D=function(t,e,n){t.css("fontSize",n+"em")},R=l(b,function(t,e){t.init=function(t,n,r){e.init.call(this,t,"<"+n+" "+r+">&0</"+n+">")}}),$.mathrm=e(R,"\\mathrm","span",'class="roman font"'),$.mathit=e(R,"\\mathit","i",'class="font"'),$.mathbf=e(R,"\\mathbf","b",'class="font"'),$.mathsf=e(R,"\\mathsf","span",'class="sans-serif font"'),$.mathtt=e(R,"\\mathtt","span",'class="monospace font"'),$.underline=e(R,"\\underline","span",'class="non-leaf underline"'),$.overline=$.bar=e(R,"\\overline","span",'class="non-leaf overline"'),L=l(b,function(t,e){t.init=function(t,n,r){e.init.call(this,t,"<"+n+' class="non-leaf">&0</'+n+">",[r])},t.finalizeTree=function(){function t(t){var e=this.parent,n=t;do{if(n[p])return t.insLeftOf(e),!1;n=n.parent.parent}while(n!==e);return t.insRightOf(e),!1}n("SupSub is only _ and ^","^"===this.ctrlSeq||"_"===this.ctrlSeq),"_"===this.ctrlSeq?(this.down=this.ends[h],this.ends[h].up=t):(this.up=this.ends[h],this.ends[h].down=t)},t.latex=function(){var t=this.ends[h].latex();return 1===t.length?this.ctrlSeq+t:this.ctrlSeq+"{"+(t||" ")+"}"},t.redraw=function(){this[h]&&this[h].respace(),this[h]instanceof L||(this.respace(),!this[p]||this[p]instanceof L||this[p].respace())},t.respace=function(){if("\\int "===this[h].ctrlSeq||this[h]instanceof L&&this[h].ctrlSeq!=this.ctrlSeq&&this[h][h]&&"\\int "===this[h][h].ctrlSeq?this.limit||(this.limit=!0,this.jQ.addClass("limit")):this.limit&&(this.limit=!1,this.jQ.removeClass("limit")),this.respaced=this[h]instanceof L&&this[h].ctrlSeq!=this.ctrlSeq&&!this[h].respaced,this.respaced){var t=+this.jQ.css("fontSize").slice(0,-2),e=this[h].jQ.outerWidth(),n=this.jQ.outerWidth();this.jQ.css({left:(this.limit&&"_"===this.ctrlSeq?-.25:0)-e/t+"em",marginRight:.1-ce(n,e)/t+"em"})}else this.limit&&"_"===this.ctrlSeq?this.jQ.css({left:"-.25em",marginRight:""}):this.jQ.css({left:"",marginRight:""});return this[p]instanceof L&&this[p].respace(),this}}),$.subscript=$._=e(L,"_","sub","_"),$.superscript=$.supscript=$["^"]=e(L,"^","sup","**"),M=$.frac=$.dfrac=$.cfrac=$.fraction=l(b,function(t){t.ctrlSeq="\\frac",t.htmlTemplate='<span class="fraction non-leaf"><span class="numerator">&0</span><span class="denominator">&1</span><span style="display:inline-block;width:0">&nbsp;</span></span>',t.textTemplate=["(","/",")"],t.finalizeTree=function(){this.up=this.ends[p].up=this.ends[h],this.down=this.ends[h].down=this.ends[p]}}),B=$.over=S["/"]=l(M,function(t,e){t.createLeftOf=function(t){if(!this.replacedFragment){for(var n=t[h];n&&!(n instanceof Z||n instanceof W||n instanceof ee||",;:".split("").indexOf(n.ctrlSeq)>-1);)n=n[h];n instanceof ee&&n[p]instanceof L&&(n=n[p],n[p]instanceof L&&n[p].ctrlSeq!=n.ctrlSeq&&(n=n[p])),n!==t[h]&&(this.replaces(C(n[p]||t.parent.ends[h],t[h])),t[h]=n)}e.createLeftOf.call(this,t)}}),I=$.sqrt=$["√"]=l(b,function(t,e){t.ctrlSeq="\\sqrt",t.htmlTemplate='<span class="non-leaf"><span class="scaled sqrt-prefix">&radic;</span><span class="non-leaf sqrt-stem">&0</span></span>',t.textTemplate=["sqrt(",")"],t.parser=function(){return re.optBlock.then(function(t){return re.block.map(function(e){var n=F();return n.blocks=[t,e],t.adopt(n,0,0),e.adopt(n,t,0),n})}).or(e.parser.call(this))},t.redraw=function(){var t=this.ends[p].jQ;D(t.prev(),1,t.innerHeight()/+t.css("fontSize").slice(0,-2)-.1)}}),$.vec=l(b,function(t){t.ctrlSeq="\\vec",t.htmlTemplate='<span class="non-leaf"><span class="vector-prefix">&rarr;</span><span class="vector-stem">&0</span></span>',t.textTemplate=["vec(",")"]}),F=$.nthroot=l(I,function(t){t.htmlTemplate='<sup class="nthroot non-leaf">&0</sup><span class="scaled"><span class="sqrt-prefix scaled">&radic;</span><span class="sqrt-stem non-leaf">&1</span></span>',t.textTemplate=["sqrt[","](",")"],t.latex=function(){return"\\sqrt["+this.ends[h].latex()+"]{"+this.ends[p].latex()+"}"}}),P=l(b,function(t,e){t.init=function(t,n,r,i){e.init.call(this,"\\left"+r,'<span class="non-leaf"><span class="scaled paren">'+t+'</span><span class="non-leaf">&0</span><span class="scaled paren">'+n+"</span></span>",[t,n]),this.end="\\right"+i},t.jQadd=function(){e.jQadd.apply(this,arguments);var t=this.jQ;this.bracketjQs=t.children(":first").add(t.children(":last"))},t.latex=function(){return this.ctrlSeq+this.ends[h].latex()+this.end},t.redraw=function(){var t=this.ends[h].jQ,e=t.outerHeight()/+t.css("fontSize").slice(0,-2);D(this.bracketjQs,ce(1+.2*(e-1),1.2),1.05*e)}}),$.left=l(b,function(t){t.parser=function(){var t=u.regex,e=u.string,n=u.succeed,r=u.optWhitespace;return r.then(t(/^(?:[([|]|\\\{)/)).then(function(i){"\\"===i.charAt(0)&&(i=i.slice(1));var o=S[i]();return re.map(function(t){o.blocks=[t],t.adopt(o,0,0)}).then(e("\\right")).skip(r).then(t(/^(?:[\])|]|\\\})/)).then(function(t){return t.slice(-1)!==o.end.slice(-1)?u.fail("open doesn't match close"):n(o)})})}}),$.right=l(b,function(t){t.parser=function(){return u.fail("unmatched \\right")}}),$.lbrace=S["{"]=e(P,"{","}","\\{","\\}"),$.langle=$.lang=e(P,"&lang;","&rang;","\\langle ","\\rangle "),H=l(P,function(t,e){t.createLeftOf=function(t){t[p]||!t.parent.parent||t.parent.parent.end!==this.end||this.replacedFragment?e.createLeftOf.call(this,t):t.insRightOf(t.parent.parent)},t.placeCursor=function(t){this.ends[h].blur(),t.insRightOf(this)}}),$.rbrace=S["}"]=e(H,"{","}","\\{","\\}"),$.rangle=$.rang=e(H,"&lang;","&rang;","\\langle ","\\rangle "),Q=function(t,e){t.init=function(t,n){e.init.call(this,t,n,t,n)}},z=l(P,Q),$.lparen=S["("]=e(z,"(",")"),$.lbrack=$.lbracket=S["["]=e(z,"[","]"),U=l(H,Q),$.rparen=S[")"]=e(U,"(",")"),$.rbrack=$.rbracket=S["]"]=e(U,"[","]"),$.lpipe=$.rpipe=S["|"]=l(z,function(t,e){t.init=function(){e.init.call(this,"|","|")},t.createLeftOf=H.prototype.createLeftOf}),W=S.$=$.text=$.textnormal=$.textrm=$.textup=$.textmd=l(b,function(t,e){t.ctrlSeq="\\text",t.htmlTemplate='<span class="text">&0</span>',t.replaces=function(t){t instanceof C?this.replacedText=t.remove().jQ.text():"string"==typeof t&&(this.replacedText=t)},t.textTemplate=['"','"'],t.parser=function(){var t=this,e=u.string,n=u.regex,r=u.optWhitespace;return r.then(e("{")).then(n(/^[^}]*/)).skip(e("}")).map(function(e){var n,r,i;for(t.createBlocks(),n=t.ends[h],r=0;e.length>r;r+=1)i=Y(e.charAt(r)),i.adopt(n,n.ends[p],0);return t})},t.createBlocks=function(){this.ends[h]=this.ends[p]=J(),this.blocks=[this.ends[h]],this.ends[h].parent=this},t.finalizeInsert=function(){this.ends[h].blur=function(){return delete this.blur,this},e.finalizeInsert.call(this)},t.createLeftOf=function(t){if(e.createLeftOf.call(this,this.cursor=t),this.replacedText)for(var n=0;this.replacedText.length>n;n+=1)this.ends[h].write(t,this.replacedText.charAt(n))}}),J=l(x,function(t,e){t.onKey=function(t){return"Spacebar"===t||"Shift-Spacebar"===t?!1:s},t.deleteOutOf=function(t,e){this.isEmpty()&&e.insRightOf(this.parent)},t.write=function(t,e,n){var r,i;return n&&n.remove(),"$"!==e?("<"===e?r="&lt;":">"===e&&(r="&gt;"),Y(e,r).createLeftOf(t)):this.isEmpty()?(t.insRightOf(this.parent).backspace(),Y("\\$","$").createLeftOf(t)):t[p]?t[h]?(i=W(),i.replaces(C(t[p],this.ends[p])),t.insRightOf(this.parent),i.adopt=function(){delete this.adopt,this.adopt.apply(this,arguments),this[h]=0},i.createLeftOf(t),i[h]=this.parent,t.insLeftOf(i)):t.insLeftOf(this.parent):t.insRightOf(this.parent),!1},t.blur=function(){if(this.jQ.removeClass("hasCursor"),this.isEmpty()){var t=this.parent,e=t.cursor;e.parent===this?this.jQ.addClass("empty"):(e.hide(),t.remove(),e[p]===t?e[p]=t[p]:e[h]===t&&(e[h]=t[h]),e.show().parent.bubble("redraw"))}return this},t.focus=function(){var t,n,r,i;return e.focus.call(this),t=this.parent,t[p].ctrlSeq===t.ctrlSeq?(n=this,r=t.cursor,i=t[p].ends[h],i.eachChild(function(t){t.parent=n,t.jQ.appendTo(n.jQ)
}),this.ends[p]?this.ends[p][p]=i.ends[h]:this.ends[h]=i.ends[h],i.ends[h][h]=this.ends[p],this.ends[p]=i.ends[p],i.parent.remove(),r[h]?r.insRightOf(r[h]):r.insAtLeftEnd(this),r.parent.bubble("redraw")):t[h].ctrlSeq===t.ctrlSeq&&(r=t.cursor,r[h]?t[h].ends[h].focus():r.insAtRightEnd(t[h].ends[h])),this}}),$.em=$.italic=$.italics=$.emph=$.textit=$.textsl=o("\\textit","i",'class="text"'),$.strong=$.bold=$.textbf=o("\\textbf","b",'class="text"'),$.sf=$.textsf=o("\\textsf","span",'class="sans-serif text"'),$.tt=$.texttt=o("\\texttt","span",'class="monospace text"'),$.textsc=o("\\textsc","span",'style="font-variant:small-caps" class="text"'),$.uppercase=o("\\uppercase","span",'style="text-transform:uppercase" class="text"'),$.lowercase=o("\\lowercase","span",'style="text-transform:lowercase" class="text"'),S["\\"]=l(b,function(t,e){t.ctrlSeq="\\",t.replaces=function(t){this._replacedFragment=t.disown(),this.isEmpty=function(){return!1}},t.htmlTemplate='<span class="latex-command-input non-leaf">\\<span>&0</span></span>',t.textTemplate=["\\"],t.createBlocks=function(){e.createBlocks.call(this),this.ends[h].focus=function(){return this.parent.jQ.addClass("hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("empty"),this},this.ends[h].blur=function(){return this.parent.jQ.removeClass("hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("empty"),this}},t.createLeftOf=function(t){if(e.createLeftOf.call(this,t),this.cursor=t.insAtRightEnd(this.ends[h]),this._replacedFragment){var n=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("blur").bind("mousedown mousemove",function(t){return d(t.target=n).trigger(t),!1}).insertBefore(this.jQ).add(this.jQ)}this.ends[h].write=function(t,e,n){n&&n.remove(),e.match(/[a-z]/i)?Y(e).createLeftOf(t):(this.parent.renderCommand(),"\\"===e&&this.isEmpty()||this.parent.parent.write(t,e))}},t.latex=function(){return"\\"+this.ends[h].latex()+" "},t.onKey=function(t,e){return"Tab"===t||"Enter"===t||"Spacebar"===t?(this.renderCommand(),e.preventDefault(),!1):s},t.renderCommand=function(){this.jQ=this.jQ.last(),this.remove(),this[p]?this.cursor.insLeftOf(this[p]):this.cursor.insAtRightEnd(this.parent);var t=this.ends[h].latex();t||(t="backslash"),this.cursor.insertCmd(t,this._replacedFragment)}}),V=$.binom=$.binomial=l(b,function(t){t.ctrlSeq="\\binom",t.htmlTemplate='<span class="paren scaled">(</span><span class="non-leaf"><span class="array non-leaf"><span>&0</span><span>&1</span></span></span><span class="paren scaled">)</span>',t.textTemplate=["choose(",",",")"],t.redraw=function(){var t=this.jQ.eq(1),e=t.outerHeight()/+t.css("fontSize").slice(0,-2),n=this.jQ.filter(".paren");D(n,ce(1+.2*(e-1),1.2),1.05*e)}}),$.choose=l(V,function(t){t.createLeftOf=B.prototype.createLeftOf}),$.vector=l(b,function(t,e){t.ctrlSeq="\\vector",t.htmlTemplate='<span class="array"><span>&0</span></span>',t.latex=function(){return"\\begin{matrix}"+this.foldChildren([],function(t,e){return t.push(e.latex()),t}).join("\\\\")+"\\end{matrix}"},t.text=function(){return"["+this.foldChildren([],function(t,e){return t.push(e.text()),t}).join()+"]"},t.createLeftOf=function(t){e.createLeftOf.call(this,this.cursor=t)},t.onKey=function(t,e){var n,r=this.cursor.parent;if(r.parent===this){if("Enter"===t)return n=x(),n.parent=this,n.jQ=d("<span></span>").attr(le,n.id).insertAfter(r.jQ),r[p]?r[p][h]=n:this.ends[p]=n,n[p]=r[p],r[p]=n,n[h]=r,this.bubble("redraw").cursor.insAtRightEnd(n),e.preventDefault(),!1;if("Tab"===t&&!r[p])return r.isEmpty()?r[h]?(this.cursor.insRightOf(this),delete r[h][p],this.ends[p]=r[h],r.jQ.remove(),this.bubble("redraw"),e.preventDefault(),!1):s:(n=x(),n.parent=this,n.jQ=d("<span></span>").attr(le,n.id).appendTo(this.jQ),this.ends[p]=n,r[p]=n,n[h]=r,this.bubble("redraw").cursor.insAtRightEnd(n),e.preventDefault(),!1);if(8===e.which){if(r.isEmpty())return r[h]?(this.cursor.insAtRightEnd(r[h]),r[h][p]=r[p]):(this.cursor.insLeftOf(this),this.ends[h]=r[p]),r[p]?r[p][h]=r[h]:this.ends[p]=r[h],r.jQ.remove(),this.isEmpty()?this.cursor.deleteForward():this.bubble("redraw"),e.preventDefault(),!1;if(!this.cursor[h])return e.preventDefault(),!1}}}}),$.editable=l(T,function(t,e){t.init=function(){b.prototype.init.call(this,"\\editable")},t.jQadd=function(){var t,n,r=this;e.jQadd.apply(r,arguments),t=r.ends[h].disown(),n=r.jQ.children().detach(),r.ends[h]=r.ends[p]=k(),r.blocks=[r.ends[h]],r.ends[h].parent=r,i(r.jQ,r.ends[h],!1,!0),r.cursor=r.ends[h].cursor,t.children().adopt(r.ends[h],0,0),n.appendTo(r.ends[h].jQ),r.ends[h].cursor.insAtRightEnd(r.ends[h])},t.latex=function(){return this.ends[h].latex()},t.text=function(){return this.ends[h].text()}}),$.f=e(w,"f",'<var class="florin">&fnof;</var><span style="display:inline-block;width:0">&nbsp;</span>'),X=l(w,function(t,e){t.init=function(t,n){e.init.call(this,t,"<var>"+(n||t)+"</var>")},t.text=function(){var t=this.ctrlSeq;return!this[h]||this[h]instanceof X||this[h]instanceof Z||(t="*"+t),!this[p]||this[p]instanceof Z||"^"===this[p].ctrlSeq||(t+="*"),t}}),Y=l(w,function(t,e){t.init=function(t,n){e.init.call(this,t,"<span>"+(n||t)+"</span>")}}),S[" "]=e(Y,"\\:"," "),$.prime=S["'"]=e(Y,"'","&prime;"),K=l(w,function(t,e){t.init=function(t,n){e.init.call(this,t,'<span class="nonSymbola">'+(n||t)+"</span>")}}),$["@"]=K,$["&"]=e(K,"\\&","&amp;"),$["%"]=e(K,"\\%","%"),$.alpha=$.beta=$.gamma=$.delta=$.zeta=$.eta=$.theta=$.iota=$.kappa=$.mu=$.nu=$.xi=$.rho=$.sigma=$.tau=$.chi=$.psi=$.omega=l(X,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),$.phi=e(X,"\\phi ","&#981;"),$.phiv=$.varphi=e(X,"\\varphi ","&phi;"),$.epsilon=e(X,"\\epsilon ","&#1013;"),$.epsiv=$.varepsilon=e(X,"\\varepsilon ","&epsilon;"),$.piv=$.varpi=e(X,"\\varpi ","&piv;"),$.sigmaf=$.sigmav=$.varsigma=e(X,"\\varsigma ","&sigmaf;"),$.thetav=$.vartheta=$.thetasym=e(X,"\\vartheta ","&thetasym;"),$.upsilon=$.upsi=e(X,"\\upsilon ","&upsilon;"),$.gammad=$.Gammad=$.digamma=e(X,"\\digamma ","&#989;"),$.kappav=$.varkappa=e(X,"\\varkappa ","&#1008;"),$.rhov=$.varrho=e(X,"\\varrho ","&#1009;"),$.pi=$.π=e(K,"\\pi ","&pi;"),$.lambda=e(K,"\\lambda ","&lambda;"),$.Upsilon=$.Upsi=$.upsih=$.Upsih=e(w,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),$.Gamma=$.Delta=$.Theta=$.Lambda=$.Xi=$.Pi=$.Sigma=$.Phi=$.Psi=$.Omega=$.forall=l(Y,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),G=l(b,function(t){t.init=function(t){this.latex=t},t.createLeftOf=function(t){t.writeLatex(this.latex)},t.parser=function(){var t=re.parse(this.latex).children();return u.succeed(t)}}),$["¹"]=e(G,"^1"),$["²"]=e(G,"^2"),$["³"]=e(G,"^3"),$["¼"]=e(G,"\\frac14"),$["½"]=e(G,"\\frac12"),$["¾"]=e(G,"\\frac34"),Z=l(w,function(t,e){t.init=function(t,n,r){e.init.call(this,t,'<span class="binary-operator">'+n+"</span>",r)}}),te=l(Z,function(t){t.init=Y.prototype.init,t.respace=function(){return this.jQ[0].className=this[h]?this[h]instanceof Z&&this[p]&&!(this[p]instanceof Z)?"unary-operator":"binary-operator":"",this}}),$["+"]=e(te,"+","+"),$["–"]=$["-"]=e(te,"-","&minus;"),$["±"]=$.pm=$.plusmn=$.plusminus=e(te,"\\pm ","&plusmn;"),$.mp=$.mnplus=$.minusplus=e(te,"\\mp ","&#8723;"),S["*"]=$.sdot=$.cdot=e(Z,"\\cdot ","&middot;"),$["="]=e(Z,"=","="),$["<"]=e(Z,"<","&lt;"),$[">"]=e(Z,">","&gt;"),$.notin=$.sim=$.cong=$.equiv=$.oplus=$.otimes=l(Z,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),$.times=e(Z,"\\times ","&times;","[x]"),$["÷"]=$.div=$.divide=$.divides=e(Z,"\\div ","&divide;","[/]"),$["≠"]=$.ne=$.neq=e(Z,"\\ne ","&ne;"),$.ast=$.star=$.loast=$.lowast=e(Z,"\\ast ","&lowast;"),$.therefor=$.therefore=e(Z,"\\therefore ","&there4;"),$.cuz=$.because=e(Z,"\\because ","&#8757;"),$.prop=$.propto=e(Z,"\\propto ","&prop;"),$["≈"]=$.asymp=$.approx=e(Z,"\\approx ","&asymp;"),$.lt=e(Z,"<","&lt;"),$.gt=e(Z,">","&gt;"),$["≤"]=$.le=$.leq=e(Z,"\\le ","&le;"),$["≥"]=$.ge=$.geq=e(Z,"\\ge ","&ge;"),$.isin=$["in"]=e(Z,"\\in ","&isin;"),$.ni=$.contains=e(Z,"\\ni ","&ni;"),$.notni=$.niton=$.notcontains=$.doesnotcontain=e(Z,"\\not\\ni ","&#8716;"),$.sub=$.subset=e(Z,"\\subset ","&sub;"),$.sup=$.supset=$.superset=e(Z,"\\supset ","&sup;"),$.nsub=$.notsub=$.nsubset=$.notsubset=e(Z,"\\not\\subset ","&#8836;"),$.nsup=$.notsup=$.nsupset=$.notsupset=$.nsuperset=$.notsuperset=e(Z,"\\not\\supset ","&#8837;"),$.sube=$.subeq=$.subsete=$.subseteq=e(Z,"\\subseteq ","&sube;"),$.supe=$.supeq=$.supsete=$.supseteq=$.supersete=$.superseteq=e(Z,"\\supseteq ","&supe;"),$.nsube=$.nsubeq=$.notsube=$.notsubeq=$.nsubsete=$.nsubseteq=$.notsubsete=$.notsubseteq=e(Z,"\\not\\subseteq ","&#8840;"),$.nsupe=$.nsupeq=$.notsupe=$.notsupeq=$.nsupsete=$.nsupseteq=$.notsupsete=$.notsupseteq=$.nsupersete=$.nsuperseteq=$.notsupersete=$.notsuperseteq=e(Z,"\\not\\supseteq ","&#8841;"),ee=l(w,function(t,e){t.init=function(t,n){e.init.call(this,t,"<big>"+n+"</big>")}}),$["∑"]=$.sum=$.summation=e(ee,"\\sum ","&sum;"),$["∏"]=$.prod=$.product=e(ee,"\\prod ","&prod;"),$.coprod=$.coproduct=e(ee,"\\coprod ","&#8720;"),$["∫"]=$["int"]=$.integral=e(ee,"\\int ","&int;"),$.N=$.naturals=$.Naturals=e(Y,"\\mathbb{N}","&#8469;"),$.P=$.primes=$.Primes=$.projective=$.Projective=$.probability=$.Probability=e(Y,"\\mathbb{P}","&#8473;"),$.Z=$.integers=$.Integers=e(Y,"\\mathbb{Z}","&#8484;"),$.Q=$.rationals=$.Rationals=e(Y,"\\mathbb{Q}","&#8474;"),$.R=$.reals=$.Reals=e(Y,"\\mathbb{R}","&#8477;"),$.C=$.complex=$.Complex=$.complexes=$.Complexes=$.complexplane=$.Complexplane=$.ComplexPlane=e(Y,"\\mathbb{C}","&#8450;"),$.H=$.Hamiltonian=$.quaternions=$.Quaternions=e(Y,"\\mathbb{H}","&#8461;"),$.quad=$.emsp=e(Y,"\\quad ","    "),$.qquad=e(Y,"\\qquad ","        "),$.diamond=e(Y,"\\diamond ","&#9671;"),$.bigtriangleup=e(Y,"\\bigtriangleup ","&#9651;"),$.ominus=e(Y,"\\ominus ","&#8854;"),$.uplus=e(Y,"\\uplus ","&#8846;"),$.bigtriangledown=e(Y,"\\bigtriangledown ","&#9661;"),$.sqcap=e(Y,"\\sqcap ","&#8851;"),$.triangleleft=e(Y,"\\triangleleft ","&#8882;"),$.sqcup=e(Y,"\\sqcup ","&#8852;"),$.triangleright=e(Y,"\\triangleright ","&#8883;"),$.odot=e(Y,"\\odot ","&#8857;"),$.bigcirc=e(Y,"\\bigcirc ","&#9711;"),$.dagger=e(Y,"\\dagger ","&#0134;"),$.ddagger=e(Y,"\\ddagger ","&#135;"),$.wr=e(Y,"\\wr ","&#8768;"),$.amalg=e(Y,"\\amalg ","&#8720;"),$.models=e(Y,"\\models ","&#8872;"),$.prec=e(Y,"\\prec ","&#8826;"),$.succ=e(Y,"\\succ ","&#8827;"),$.preceq=e(Y,"\\preceq ","&#8828;"),$.succeq=e(Y,"\\succeq ","&#8829;"),$.simeq=e(Y,"\\simeq ","&#8771;"),$.mid=e(Y,"\\mid ","&#8739;"),$.ll=e(Y,"\\ll ","&#8810;"),$.gg=e(Y,"\\gg ","&#8811;"),$.parallel=e(Y,"\\parallel ","&#8741;"),$.bowtie=e(Y,"\\bowtie ","&#8904;"),$.sqsubset=e(Y,"\\sqsubset ","&#8847;"),$.sqsupset=e(Y,"\\sqsupset ","&#8848;"),$.smile=e(Y,"\\smile ","&#8995;"),$.sqsubseteq=e(Y,"\\sqsubseteq ","&#8849;"),$.sqsupseteq=e(Y,"\\sqsupseteq ","&#8850;"),$.doteq=e(Y,"\\doteq ","&#8784;"),$.frown=e(Y,"\\frown ","&#8994;"),$.vdash=e(Y,"\\vdash ","&#8870;"),$.dashv=e(Y,"\\dashv ","&#8867;"),$.longleftarrow=e(Y,"\\longleftarrow ","&#8592;"),$.longrightarrow=e(Y,"\\longrightarrow ","&#8594;"),$.Longleftarrow=e(Y,"\\Longleftarrow ","&#8656;"),$.Longrightarrow=e(Y,"\\Longrightarrow ","&#8658;"),$.longleftrightarrow=e(Y,"\\longleftrightarrow ","&#8596;"),$.updownarrow=e(Y,"\\updownarrow ","&#8597;"),$.Longleftrightarrow=e(Y,"\\Longleftrightarrow ","&#8660;"),$.Updownarrow=e(Y,"\\Updownarrow ","&#8661;"),$.mapsto=e(Y,"\\mapsto ","&#8614;"),$.nearrow=e(Y,"\\nearrow ","&#8599;"),$.hookleftarrow=e(Y,"\\hookleftarrow ","&#8617;"),$.hookrightarrow=e(Y,"\\hookrightarrow ","&#8618;"),$.searrow=e(Y,"\\searrow ","&#8600;"),$.leftharpoonup=e(Y,"\\leftharpoonup ","&#8636;"),$.rightharpoonup=e(Y,"\\rightharpoonup ","&#8640;"),$.swarrow=e(Y,"\\swarrow ","&#8601;"),$.leftharpoondown=e(Y,"\\leftharpoondown ","&#8637;"),$.rightharpoondown=e(Y,"\\rightharpoondown ","&#8641;"),$.nwarrow=e(Y,"\\nwarrow ","&#8598;"),$.ldots=e(Y,"\\ldots ","&#8230;"),$.cdots=e(Y,"\\cdots ","&#8943;"),$.vdots=e(Y,"\\vdots ","&#8942;"),$.ddots=e(Y,"\\ddots ","&#8944;"),$.surd=e(Y,"\\surd ","&#8730;"),$.triangle=e(Y,"\\triangle ","&#9653;"),$.ell=e(Y,"\\ell ","&#8467;"),$.top=e(Y,"\\top ","&#8868;"),$.flat=e(Y,"\\flat ","&#9837;"),$.natural=e(Y,"\\natural ","&#9838;"),$.sharp=e(Y,"\\sharp ","&#9839;"),$.wp=e(Y,"\\wp ","&#8472;"),$.bot=e(Y,"\\bot ","&#8869;"),$.clubsuit=e(Y,"\\clubsuit ","&#9827;"),$.diamondsuit=e(Y,"\\diamondsuit ","&#9826;"),$.heartsuit=e(Y,"\\heartsuit ","&#9825;"),$.spadesuit=e(Y,"\\spadesuit ","&#9824;"),$.oint=e(Y,"\\oint ","&#8750;"),$.bigcap=e(Y,"\\bigcap ","&#8745;"),$.bigcup=e(Y,"\\bigcup ","&#8746;"),$.bigsqcup=e(Y,"\\bigsqcup ","&#8852;"),$.bigvee=e(Y,"\\bigvee ","&#8744;"),$.bigwedge=e(Y,"\\bigwedge ","&#8743;"),$.bigodot=e(Y,"\\bigodot ","&#8857;"),$.bigotimes=e(Y,"\\bigotimes ","&#8855;"),$.bigoplus=e(Y,"\\bigoplus ","&#8853;"),$.biguplus=e(Y,"\\biguplus ","&#8846;"),$.lfloor=e(Y,"\\lfloor ","&#8970;"),$.rfloor=e(Y,"\\rfloor ","&#8971;"),$.lceil=e(Y,"\\lceil ","&#8968;"),$.rceil=e(Y,"\\rceil ","&#8969;"),$.slash=e(Y,"\\slash ","&#47;"),$.opencurlybrace=e(Y,"\\opencurlybrace ","&#123;"),$.closecurlybrace=e(Y,"\\closecurlybrace ","&#125;"),$.caret=e(Y,"\\caret ","^"),$.underscore=e(Y,"\\underscore ","_"),$.backslash=e(Y,"\\backslash ","\\"),$.vert=e(Y,"|"),$.perp=$.perpendicular=e(Y,"\\perp ","&perp;"),$.nabla=$.del=e(Y,"\\nabla ","&nabla;"),$.hbar=e(Y,"\\hbar ","&#8463;"),$.AA=$.Angstrom=$.angstrom=e(Y,"\\text\\AA ","&#8491;"),$.ring=$.circ=$.circle=e(Y,"\\circ ","&#8728;"),$.bull=$.bullet=e(Y,"\\bullet ","&bull;"),$.setminus=$.smallsetminus=e(Y,"\\setminus ","&#8726;"),$.not=$["¬"]=$.neg=e(Y,"\\neg ","&not;"),$["…"]=$.dots=$.ellip=$.hellip=$.ellipsis=$.hellipsis=e(Y,"\\dots ","&hellip;"),$.converges=$.darr=$.dnarr=$.dnarrow=$.downarrow=e(Y,"\\downarrow ","&darr;"),$.dArr=$.dnArr=$.dnArrow=$.Downarrow=e(Y,"\\Downarrow ","&dArr;"),$.diverges=$.uarr=$.uparrow=e(Y,"\\uparrow ","&uarr;"),$.uArr=$.Uparrow=e(Y,"\\Uparrow ","&uArr;"),$.to=e(Z,"\\to ","&rarr;"),$.rarr=$.rightarrow=e(Y,"\\rightarrow ","&rarr;"),$.implies=e(Z,"\\Rightarrow ","&rArr;"),$.rArr=$.Rightarrow=e(Y,"\\Rightarrow ","&rArr;"),$.gets=e(Z,"\\gets ","&larr;"),$.larr=$.leftarrow=e(Y,"\\leftarrow ","&larr;"),$.impliedby=e(Z,"\\Leftarrow ","&lArr;"),$.lArr=$.Leftarrow=e(Y,"\\Leftarrow ","&lArr;"),$.harr=$.lrarr=$.leftrightarrow=e(Y,"\\leftrightarrow ","&harr;"),$.iff=e(Z,"\\Leftrightarrow ","&hArr;"),$.hArr=$.lrArr=$.Leftrightarrow=e(Y,"\\Leftrightarrow ","&hArr;"),$.Re=$.Real=$.real=e(Y,"\\Re ","&real;"),$.Im=$.imag=$.image=$.imagin=$.imaginary=$.Imaginary=e(Y,"\\Im ","&image;"),$.part=$.partial=e(Y,"\\partial ","&part;"),$.inf=$.infin=$.infty=$.infinity=e(Y,"\\infty ","&infin;"),$.alef=$.alefsym=$.aleph=$.alephsym=e(Y,"\\aleph ","&alefsym;"),$.xist=$.xists=$.exist=$.exists=e(Y,"\\exists ","&exist;"),$.and=$.land=$.wedge=e(Y,"\\wedge ","&and;"),$.or=$.lor=$.vee=e(Y,"\\vee ","&or;"),$.o=$.O=$.empty=$.emptyset=$.oslash=$.Oslash=$.nothing=$.varnothing=e(Z,"\\varnothing ","&empty;"),$.cup=$.union=e(Z,"\\cup ","&cup;"),$.cap=$.intersect=$.intersection=e(Z,"\\cap ","&cap;"),$.deg=$.degree=e(Y,"^\\circ ","&deg;"),$.ang=$.angle=e(Y,"\\angle ","&ang;"),ne=l(w,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","<span>"+t+"</span>")},t.respace=function(){this.jQ[0].className=this[p]instanceof L||this[p]instanceof P?"":"non-italicized-function"}}),$.ln=$.lg=$.log=$.span=$.proj=$.det=$.dim=$.min=$.max=$.mod=$.lcm=$.gcd=$.gcf=$.hcf=$.lim=ne,function(){var t,e=["sin","cos","tan","sec","cosec","csc","cotan","cot"];for(t in e)$[e[t]]=$[e[t]+"h"]=$["a"+e[t]]=$["arc"+e[t]]=$["a"+e[t]+"h"]=$["arc"+e[t]+"h"]=ne}(),re=function(){function t(t){var e=x();return t.adopt(e,0,0),e}function e(t){var e,n=t[0]||x();for(e=1;t.length>e;e+=1)t[e].children().adopt(n,n.ends[p],0);return n}var n=u.string,r=u.regex,i=u.letter,o=u.any,s=u.optWhitespace,a=u.succeed,l=u.fail,c=i.map(X),h=r(/^[^${}\\_^]/).map(Y),d=r(/^[^\\a-eg-zA-Z]/).or(n("\\").then(r(/^[a-z]+/i).or(r(/^\s+/).result(" ")).or(o))).then(function(t){var e=$[t];return e?e(t).parser():l("unknown command: \\"+t)}),f=d.or(c).or(h),g=n("{").then(function(){return v}).skip(n("}")),m=s.then(g.or(f.map(t))),v=m.many().map(e).skip(s),y=n("[").then(m.then(function(t){return"]"!==t.join("latex")?a(t):l()}).many().map(e).skip(s)).skip(n("]")),b=v;return b.block=m,b.optBlock=y,b}(),ie=l(f,function(t){function e(t,e){var r,i,o,s;if(t[p][e])t.insAtLeftEnd(t[p][e]);else if(t[h][e])t.insAtRightEnd(t[h][e]);else{r=t.parent;do{if(i=r[e],i&&("function"==typeof i&&(i=r[e](t)),i===!1||i instanceof x)){t.upDownCache[r.id]=f(t.parent,t[h],t[p]),i instanceof x&&(o=t.upDownCache[i.id],o?o[p]?t.insLeftOf(o[p]):t.insAtRightEnd(o.parent):(s=n(t).left,t.insAtRightEnd(i),t.seekHoriz(s,i)));break}r=r.parent.parent}while(r)}return t.clearSelection().show()}function n(t){var e=t.jQ.removeClass("cursor").offset();return t.jQ.addClass("cursor"),e}function i(t){t.upDownCache={}}t.init=function(t){this.parent=this.root=t;var e=this.jQ=this._jQ=d('<span class="cursor">&zwj;</span>');this.blink=function(){e.toggleClass("blink")},this.upDownCache={}},t.show=function(){return this.jQ=this._jQ.removeClass("blink"),"intervalId"in this?clearInterval(this.intervalId):(this[p]?this.selection&&this.selection.ends[h][h]===this[h]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[p].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},t.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=d(),this},t.withDirInsertAt=function(t,e,n,r){var i=this.parent;this.parent=e,this[t]=n,this[-t]=r,i.blur()},t.insDirOf=function(t,e){return r(t),this.withDirInsertAt(t,e.parent,e[t],e),this.parent.jQ.addClass("hasCursor"),this.jQ.insDirOf(t,e.jQ),this},t.insLeftOf=function(t){return this.insDirOf(h,t)},t.insRightOf=function(t){return this.insDirOf(p,t)},t.insAtDirEnd=function(t,e){return r(t),this.withDirInsertAt(t,e,0,e.ends[t]),t===h&&e.textarea?this.jQ.insDirOf(-t,e.textarea):this.jQ.insAtDirEnd(t,e.jQ),e.focus(),this},t.insAtLeftEnd=function(t){return this.insAtDirEnd(h,t)},t.insAtRightEnd=function(t){return this.insAtDirEnd(p,t)},t.hopDir=function(t){return r(t),this.jQ.insDirOf(t,this[t].jQ),this[-t]=this[t],this[t]=this[t][t],this},t.hopLeft=function(){return this.hopDir(h)},t.hopRight=function(){return this.hopDir(p)},t.moveDirWithin=function(t,e){if(r(t),this[t])this[t].ends[-t]?this.insAtDirEnd(-t,this[t].ends[-t]):this.hopDir(t);else{if(this.parent===e)return;this.parent[t]?this.insAtDirEnd(-t,this.parent[t]):this.insDirOf(t,this.parent.parent)}},t.moveLeftWithin=function(t){return this.moveDirWithin(h,t)},t.moveRightWithin=function(t){return this.moveDirWithin(p,t)},t.moveDir=function(t){return r(t),i(this),this.selection?this.insDirOf(t,this.selection.ends[t]).clearSelection():this.moveDirWithin(t,this.root),this.show()},t.moveLeft=function(){return this.moveDir(h)},t.moveRight=function(){return this.moveDir(p)},t.moveUp=function(){return e(this,"up")},t.moveDown=function(){return e(this,"down")},t.seek=function(t,e){i(this);var n,r,o=this.clearSelection().show();return t.hasClass("empty")?(o.insAtLeftEnd(y[t.attr(le)]),o):(n=y[t.attr(ae)],n instanceof w?(t.outerWidth()>2*(e-t.offset().left)?o.insLeftOf(n):o.insRightOf(n),o):(n||(r=y[t.attr(le)],r||(t=t.parent(),n=y[t.attr(ae)],n||(r=y[t.attr(le)],r||(r=o.root)))),n?o.insRightOf(n):o.insAtRightEnd(r),o.seekHoriz(e,o.root)))},t.seekHoriz=function(t,e){var r,i=this,o=n(i).left-t;do i.moveLeftWithin(e),r=o,o=n(i).left-t;while(o>0&&(i[h]||i.parent!==e));return-o>r&&i.moveRightWithin(e),i},t.writeLatex=function(t){var e,n,r,o=this;return i(o),o.show().deleteSelection(),e=u.all,n=u.eof,r=re.skip(n).or(e.result(!1)).parse(t),r&&(r.children().adopt(o.parent,o[h],o[p]),y.jQize(r.join("html")).insertBefore(o.jQ),o[h]=r.ends[p],r.finalizeInsert(),o.parent.bubble("redraw")),this.hide()},t.write=function(t){var e=this.prepareWrite();return this.insertCh(t,e)},t.insertCh=function(t,e){return this.parent.write(this,t,e),this},t.insertCmd=function(t,e){var n=$[t];return n?(n=n(t),e&&n.replaces(e),n.createLeftOf(this)):(n=W(),n.replaces(t),n.ends[h].focus=function(){return delete this.focus,this},n.createLeftOf(this),this.insRightOf(n),e&&e.remove()),this},t.unwrapGramp=function(){var t=this.parent.parent,e=t.parent,n=t[p],r=t[h];if(t.disown().eachChild(function(i){i.isEmpty()||(i.children().adopt(e,r,n).each(function(e){e.jQ.insertBefore(t.jQ.first())}),r=i.ends[p])}),!this[p])if(this[h])this[p]=this[h][p];else for(;!this[p];){if(this.parent=this.parent[p],!this.parent){this[p]=t[p],this.parent=e;break}this[p]=this.parent.ends[h]}this[p]?this.insLeftOf(this[p]):this.insAtRightEnd(e),t.jQ.remove(),t[h]&&t[h].respace(),t[p]&&t[p].respace()},t.deleteDir=function(t){if(r(t),i(this),this.show(),this.deleteSelection());else if(this[t])this[t].isEmpty()?this[t]=this[t].remove()[t]:this.selectDir(t);else if(this.parent!==this.root){if(this.parent.parent.isEmpty())return this.insDirOf(-t,this.parent.parent).deleteDir(t);this.unwrapGramp()}return this[h]&&this[h].respace(),this[p]&&this[p].respace(),this.parent.bubble("redraw"),this},t.backspace=function(){return this.deleteDir(h)},t.deleteForward=function(){return this.deleteDir(p)},t.selectFrom=function(t){var e,n,r,i,o,s,a=this,l=t;t:for(;;){for(e=this;e!==a.parent.parent;e=e.parent.parent)if(e.parent===l.parent){r=e,i=l;break t}for(n=t;n!==l.parent.parent;n=n.parent.parent)if(a.parent===n.parent){r=a,i=n;break t}a.parent.parent&&(a=a.parent.parent),l.parent.parent&&(l=l.parent.parent)}if(r[p]!==i){for(s=r;s;s=s[p])if(s===i[h]){o=!0;break}o||(o=i,i=r,r=o)}this.hide().selection=oe(r[h][p]||r.parent.ends[h],i[p][h]||i.parent.ends[p]),this.insRightOf(i[p][h]||i.parent.ends[p]),this.root.selectionChanged()},t.selectDir=function(t){if(r(t),i(this),this.selection)if(this.selection.ends[t]===this[-t])this[t]?this.hopDir(t).selection.extendDir(t):this.parent!==this.root&&this.insDirOf(t,this.parent.parent).selection.levelUp();else{if(this.hopDir(t),this.selection.ends[t]===this.selection.ends[-t])return this.clearSelection().show(),s;this.selection.retractDir(t)}else{if(this[t])this.hopDir(t);else{if(this.parent===this.root)return;this.insDirOf(t,this.parent.parent)}this.hide().selection=oe(this[-t])}this.root.selectionChanged()},t.selectLeft=function(){return this.selectDir(h)},t.selectRight=function(){return this.selectDir(p)},t.prepareMove=function(){return i(this),this.show().clearSelection()},t.prepareEdit=function(){return i(this),this.show().deleteSelection()},t.prepareWrite=function(){return i(this),this.show().replaceSelection()},t.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.root.selectionChanged()),this},t.deleteSelection=function(){return this.selection?(this[h]=this.selection.ends[h][h],this[p]=this.selection.ends[p][p],this.selection.remove(),this.root.selectionChanged(),delete this.selection):!1},t.replaceSelection=function(){var t=this.selection;return t&&(this[h]=t.ends[h][h],this[p]=t.ends[p][p],delete this.selection),t}}),oe=l(C,function(t,e){t.init=function(){var t=this;e.init.apply(t,arguments),t.jQwrap(t.jQ)},t.jQwrap=function(t){this.jQ=t.wrapAll('<span class="selection"></span>').parent()},t.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),e.adopt.apply(this,arguments)},t.clear=function(){return this.jQ.replaceWith(this.jQ.children()),this},t.levelUp=function(){var t=this,e=t.ends[h]=t.ends[p]=t.ends[p].parent.parent;return t.clear().jQwrap(e.jQ),t},t.extendDir=function(t){return r(t),this.ends[t]=this.ends[t][t],this.ends[t].jQ.insAtDirEnd(t,this.jQ),this},t.extendLeft=function(){return this.extendDir(h)},t.extendRight=function(){return this.extendDir(p)},t.retractDir=function(t){r(t),this.ends[-t].jQ.insDirOf(-t,this.jQ),this.ends[-t]=this.ends[-t][t]},t.retractRight=function(){return this.retractDir(p)},t.retractLeft=function(){return this.retractDir(h)}}),se.fn.mathquill=function(t,e){var n,r,o,s,a;switch(t){case"redraw":return this.each(function(){var t=d(this).attr(le),e=t&&y[t];e&&function n(t){t.eachChild(n),t.redraw&&t.redraw()}(e)});case"revert":return this.each(function(){var t=d(this).attr(le),e=t&&y[t];e&&e.revert&&e.revert()});case"latex":return arguments.length>1?this.each(function(){var t=d(this).attr(le),n=t&&y[t];n&&n.renderLatex(e)}):(n=d(this).attr(le),r=n&&y[n],r&&r.latex());case"text":return n=d(this).attr(le),r=n&&y[n],r&&r.text();case"html":return this.html().replace(/ ?hasCursor|hasCursor /,"").replace(/ class=(""|(?= |>))/g,"").replace(/<span class="?cursor( blink)?"?><\/span>/i,"").replace(/<span class="?textarea"?><textarea><\/textarea><\/span>/i,"");case"write":if(arguments.length>1)return this.each(function(){var t=d(this).attr(le),n=t&&y[t],r=n&&n.cursor;r&&r.writeLatex(e).parent.blur()});case"cmd":if(arguments.length>1)return this.each(function(){var t,n=d(this).attr(le),r=n&&y[n],i=r&&r.cursor;i&&(t=i.prepareWrite(),/^\\[a-z]+$/i.test(e)?i.insertCmd(e.slice(1),t):i.insertCh(e,t),i.hide().parent.blur())});default:return o="textbox"===t,s=o||"editable"===t,a=o?j:k,this.each(function(){i(d(this),a(),o,s)})}},se(function(){se(".mathquill-editable:not(.mathquill-rendered-math)").mathquill("editable"),se(".mathquill-textbox:not(.mathquill-rendered-math)").mathquill("textbox"),se(".mathquill-embedded-latex").mathquill()})}()},"lib/utils/notify":function(t,e,n){(function(){var t;t={flash:function(t,n,r){var i,o;return null==n&&(n="warning"),r=r||$("#flash_message"),r.prepend(e("views/widgets/flash")({msg:t})),i=$(".alert:eq(0)",r),i.addClass("alert-"+n),i.show(),o=function(){return i.remove()},setTimeout(o,1e4),!1}},"undefined"!=typeof n&&null!==n&&(n.exports=t)}).call(this)},"models/doc":function(t,e,n){(function(){var t,e,r={}.hasOwnProperty,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t=function(t){function n(){return e=n.__super__.constructor.apply(this,arguments)}return i(n,t),n.configure("Doc","id","title","raw_content","u_at"),n.extend(Spine.Model.Ajax),n.fromJSON=function(t){return n.__super__.constructor.fromJSON.call(this,[].concat(t.data))},n}(Spine.Model),n.exports=t}).call(this)},"views/items/doc":function(t,e,n){n.exports=function(t){var e=[],n=t||{},r=n.title,i=n.u_at;return e.push('<div class="panel panel-default"><div class="panel-body">'+jade.escape(null==(jade.interp=r)?"":jade.interp)+'</div><div class="panel-footer text-muted"><i class="fa fa-clock-o"></i><span class="text">'+jade.escape(null==(jade.interp=i)?"":jade.interp)+'</span><span class="delete pull-right btn btn-default btn-xs"><i class="fa fa-trash-o"></i></span></div></div>'),e.join("")}},"views/widgets/board_navigate":function(t,e,n){n.exports=function(){var t=[];return t.push('<a title="Undo" class="drawing-board-control-navigation-back btn btn-default"><i class="fa fa-arrow-left"></i></a><a title="Redo" class="drawing-board-control-navigation-forward btn btn-default"><i class="fa fa-arrow-right"></i></a><a title="Clean" class="drawing-board-control-navigation-reset btn btn-default"><i class="fa fa-times"></i></a>'),t.join("")}},"views/widgets/download":function(t,e,n){n.exports=function(){var t=[];return t.push('<a title="Download" class="drawing-board-control-download-button btn btn-default"><i class="fa fa-download"></i></a>'),t.join("")}},"views/widgets/drawing_mode":function(t,e,n){n.exports=function(t){var e=[],n=t||{},r=n.v;return e.push("<a"+jade.attr("data-mode",r,!0,!1)+jade.attr("title",r,!0,!1)+jade.cls(["btn","btn-default","drawing-board-control-drawingmode-"+r+"-button"],[null,null,!0])+"><i"+jade.cls(["fa","fa-"+r],[null,!0])+"></i></a>"),e.join("")}},"views/widgets/flash":function(t,e,n){n.exports=function(t){var e=[],n=t||{},r=n.msg;return e.push('<div class="alert text-center flash"><strong>'+jade.escape(null==(jade.interp=r)?"":jade.interp)+"</strong></div>"),e.join("")}},"views/widgets/notice":function(t,e,n){n.exports=function(t){var e=[],n=t||{},r=n.content;return e.push('<div class="alert alert-warning"><span class="close"><i class="fa fa-times-circle"></i></span>'+(null==(jade.interp=r)?"":jade.interp)+"</div>"),e.join("")}},"views/widgets/paste":function(t,e,n){n.exports=function(){var t=[];return t.push('<a title="PasteTo" class="drawing-board-control-paste-button btn btn-default"><i class="fa fa-paste"></i></a>'),t.join("")}},"views/widgets/switch_size":function(t,e,n){n.exports=function(){var t=[];return t.push('<a data-size=\'500\' title="Medium" class="drawing-board-control-size-button btn btn-default active">M</a><a data-size=\'720\' title="Large" class="drawing-board-control-size-button btn btn-default">L</a>'),t.join("")}}}),require("index");